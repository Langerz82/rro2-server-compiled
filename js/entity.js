var a11_0xd1ad=['Move2','./lib/class','./utils','exports','Class','type','kind','info','id:',',type:',',y:','isCritical','isHeal','shadowOffsetY','name','randomOrientation','map','mapIndex','index','abs','getManhattenDistanceToEntity','Orientations','RIGHT','DOWN','futureY','LEFT','futureX','isStun','attackCooldown','stunTimeout','isProvocation','Spawn','Despawn','random','orientation','stringify','drop\x20x:','Drop','path','length'];(function(_0x1bedd3,_0x119bb3){var _0x23f794=function(_0x4b44fb){while(--_0x4b44fb){_0x1bedd3['push'](_0x1bedd3['shift']());}};_0x23f794(++_0x119bb3);}(a11_0xd1ad,0xf1));var a11_0x4d8d=function(_0xb67384,_0x27295a){_0xb67384=_0xb67384-0x0;var _0x156d7c=a11_0xd1ad[_0xb67384];return _0x156d7c;};var cls=require(a11_0x4d8d('0x0'));var Messages=require('./message');var Utils=require(a11_0x4d8d('0x1'));module[a11_0x4d8d('0x2')]=Entity=cls[a11_0x4d8d('0x3')]['extend']({'init':function(_0x3041a0,_0x36a1af,_0x3afc99,_0xf60c8d,_0x24ea02,_0x3c976b){var _0x509eed=this;this[a11_0x4d8d('0x4')]=_0x36a1af;this['id']=parseInt(_0x3041a0);this[a11_0x4d8d('0x5')]=_0x3afc99;if(!_0x3afc99)log[a11_0x4d8d('0x6')](a11_0x4d8d('0x7')+this['id']+a11_0x4d8d('0x8')+_0x36a1af+',x:'+_0xf60c8d+a11_0x4d8d('0x9')+_0x24ea02);this[a11_0x4d8d('0xa')]=![];this[a11_0x4d8d('0xb')]=![];this[a11_0x4d8d('0xc')]=0x0;var _0xc3a3a9=_0xf60c8d,_0x45b7eb=_0x24ea02;this['x']=Number(_0xc3a3a9);this['y']=Number(_0x45b7eb);this[a11_0x4d8d('0xd')]='';this['orientation']=Utils[a11_0x4d8d('0xe')]();this[a11_0x4d8d('0xf')]=_0x3c976b;this[a11_0x4d8d('0x10')]=_0x3c976b[a11_0x4d8d('0x11')];},'destroy':function(){},'setName':function(_0x3ceed9){this[a11_0x4d8d('0xd')]=_0x3ceed9;},'setPosition':function(_0x108aac,_0x435165){this['x']=_0x108aac;this['y']=_0x435165;},'ready':function(_0x597de0){this['ready_func']=_0x597de0;},'getDistanceToEntity':function(_0x47ed8d){var _0x2984ad=Math[a11_0x4d8d('0x12')](_0x47ed8d['x']-this['x']),_0x32c46a=Math[a11_0x4d8d('0x12')](_0x47ed8d['y']-this['y']);return _0x2984ad>_0x32c46a?_0x2984ad:_0x32c46a;},'getManhattenDistanceToEntity':function(_0x5be4ee){var _0x201df9=Math[a11_0x4d8d('0x12')](_0x5be4ee['x']-this['x']),_0x3df67e=Math['abs'](_0x5be4ee['y']-this['y']);log[a11_0x4d8d('0x6')]('getManhattenDistanceToEntity:'+(_0x201df9+_0x3df67e));return _0x201df9+_0x3df67e;},'isCloseTo':function(_0x49845c){var _0x5567e7,_0x349494,_0x22b153,_0x258436=![];if(_0x49845c){_0x5567e7=Math['abs'](_0x49845c['x']-this['x']);_0x349494=Math['abs'](_0x49845c['y']-this['y']);if(_0x5567e7<0x1e&&_0x349494<0xe){_0x258436=!![];}}return _0x258436;},'isAdjacent':function(_0x532a5c){var _0xcf8703=![];if(_0x532a5c){_0xcf8703=this[a11_0x4d8d('0x13')](_0x532a5c)==0x1?!![]:![];}return _0xcf8703;},'isAdjacentNonDiagonal':function(_0x5f2c5b){log['info'](this['x']+','+this['y']+','+_0x5f2c5b['x']+','+_0x5f2c5b['y']);if(this['isAdjacent'](_0x5f2c5b)){return!![];}return![];},'forEachAdjacentNonDiagonalPosition':function(_0x4d6ea3){_0x4d6ea3(this['x']-0x1,this['y'],Types['Orientations']['LEFT']);_0x4d6ea3(this['x'],this['y']-0x1,Types[a11_0x4d8d('0x14')]['UP']);_0x4d6ea3(this['x']+0x1,this['y'],Types[a11_0x4d8d('0x14')][a11_0x4d8d('0x15')]);_0x4d6ea3(this['x'],this['y']+0x1,Types[a11_0x4d8d('0x14')][a11_0x4d8d('0x16')]);},'forEachFutureAdjacentNonDiagonalPosition':function(_0x23a70e){_0x23a70e(this['futureX']-0x1,this[a11_0x4d8d('0x17')],Types['Orientations'][a11_0x4d8d('0x18')]);_0x23a70e(this[a11_0x4d8d('0x19')],this[a11_0x4d8d('0x17')]-0x1,Types[a11_0x4d8d('0x14')]['UP']);_0x23a70e(this[a11_0x4d8d('0x19')]+0x1,this[a11_0x4d8d('0x17')],Types[a11_0x4d8d('0x14')]['RIGHT']);_0x23a70e(this['futureX'],this['futureY']+0x1,Types[a11_0x4d8d('0x14')][a11_0x4d8d('0x16')]);},'stun':function(_0xb3448){var _0x3fa637=this;if(!this['isStun']){this[a11_0x4d8d('0x1a')]=!![];if(this[a11_0x4d8d('0x1b')]){this[a11_0x4d8d('0x1b')]['lastTime']+=0x1f4*_0xb3448;}this[a11_0x4d8d('0x1c')]=setTimeout(function(){_0x3fa637[a11_0x4d8d('0x1a')]=![];_0x3fa637[a11_0x4d8d('0x1c')]=null;},0x1f4*_0xb3448);}},'provocation':function(_0xae110){var _0xba82aa=this;if(!this[a11_0x4d8d('0x1d')]){this[a11_0x4d8d('0x1d')]=!![];this[a11_0x4d8d('0x1c')]=setTimeout(function(){_0xba82aa['isProvocation']=![];_0xba82aa['provocationTimeout']=null;},0x3e8*_0xae110);}},'_getBaseState':function(){return[parseInt(this['id'],0xa),parseInt(this[a11_0x4d8d('0x5')]),this['x'],this['y'],this[a11_0x4d8d('0xf')][a11_0x4d8d('0x11')]];},'getMapIndex':function(){return this['map'][a11_0x4d8d('0x11')];},'getState':function(){return this['_getBaseState']();},'spawn':function(){return new Messages[(a11_0x4d8d('0x1e'))](this);},'despawn':function(_0x9c7509){var _0x384329=_0x9c7509===null?0x1:_0x9c7509;return new Messages[(a11_0x4d8d('0x1f'))](this,_0x384329);},'getPositionNextTo':function(_0x6028e1){var _0x11cfb9=null;if(_0x6028e1){_0x11cfb9={};var _0x462db=Utils[a11_0x4d8d('0x20')](0x4);_0x11cfb9['x']=_0x6028e1['x'];_0x11cfb9['y']=_0x6028e1['y'];if(_0x462db===0x0){_0x11cfb9['y']-=0x1;}if(_0x462db===0x1){_0x11cfb9['y']+=0x1;}if(_0x462db===0x2){_0x11cfb9['x']-=0x1;}if(_0x462db===0x3){_0x11cfb9['x']+=0x1;}}return _0x11cfb9;},'setRandomOrientation':function(){r=Utils[a11_0x4d8d('0x20')](0x4);if(r===0x0)this[a11_0x4d8d('0x21')]=Types[a11_0x4d8d('0x14')]['LEFT'];if(r===0x1)this[a11_0x4d8d('0x21')]=Types['Orientations']['RIGHT'];if(r===0x2)this['orientation']=Types['Orientations']['UP'];if(r===0x3)this[a11_0x4d8d('0x21')]=Types[a11_0x4d8d('0x14')][a11_0x4d8d('0x16')];},'drop':function(_0x3831ad,_0x503093,_0x6aa3e0){log[a11_0x4d8d('0x6')](JSON[a11_0x4d8d('0x22')](_0x3831ad));log[a11_0x4d8d('0x6')](a11_0x4d8d('0x23')+_0x503093+a11_0x4d8d('0x9')+_0x6aa3e0);if(_0x3831ad){log[a11_0x4d8d('0x6')](a11_0x4d8d('0x23')+_0x503093+',y:'+_0x6aa3e0);return new Messages[(a11_0x4d8d('0x24'))](this,_0x3831ad,_0x503093,_0x6aa3e0);}},'getLastMove':function(_0x357983){var _0x357983=this;if(_0x357983['path']&&_0x357983[a11_0x4d8d('0x25')][a11_0x4d8d('0x26')]>0x0){var _0x34572a=_0x357983[a11_0x4d8d('0x25')][_0x357983['path'][a11_0x4d8d('0x26')]-0x1][0x0],_0x271bdd=_0x357983[a11_0x4d8d('0x25')][_0x357983[a11_0x4d8d('0x25')][a11_0x4d8d('0x26')]-0x1][0x1];return new Messages[(a11_0x4d8d('0x27'))](_0x357983,_0x34572a,_0x271bdd,_0x357983[a11_0x4d8d('0x21')]);}else{return new Messages[(a11_0x4d8d('0x27'))](_0x357983,_0x357983['x'],_0x357983['y'],_0x357983[a11_0x4d8d('0x21')]);}}});module['exports']=Entity;