var a46_0x814e=['setPosition','partyExperience','getLevel','levelUp','rooms','weaponLevel','equipItem','count','skillKind','handleInventoryWeapon','itemNumber','kind','handleInventoryArmor','isConsumableItem','updateHitPoints','checkItemEquip','armorKind','getKindFromString','weaponKind','randomOrientation','getAllInventory','checkItemEquips','playerId:\x20','map','entities','addNpcPlayer','FIGHTER','PlayerClass','DEFENDER','ARCHER','putInventory','armorSkillKind','unequipItem','pushBroadcast','equip','handleInventoryArmorUnequip','canEquipArmor','setInventory','weapon','weaponSkillKind','handleInventoryWeaponUnequip','canEquipWeapon','itemSkillKind','addItemFromChest','isCraft','itemSkillLevel','skillLevel','pushToAdjacentGroups','group','Drop','handleItemDespawn','takeOutInventory','makeEmptyInventory','isMount','maxHitPoints','hasFullHealth','regenHealthBy',',y:','moveCallback','hatelist','tankerlist','isOver','lastPartyExperience','./lib/class','underscore','./character','./chest','./message','./utils','./format','./party','./items','./bank','../shared/js/gametypes','../shared/js/itemtypes','bcrypt','./inventory','./mob','./skillhandler','body-parser','./quests','request','exports','extend','server','npcplayer','haters','lastCheckpoint','inventory','pvpFlag','experience','level','cooltimeTimeout','consumeTimeout','setMoveRate','setAttackRate','pClass','pvpLevel','isDead','state','name','influence','databaseHandler','loadNpcPlayer','roamCooldown','now','partyXPCheckCooldown','forEachAttacker','clearTarget','attackers','forEachHater','forgetPlayer','_getBaseState','orientation','armor','target','push','pvpSide','armorEnchantedPoint','weaponEnchantedPoint','concat','hasOwnProperty','randomRangeInt','this.pvpFlag','send','serialize','each','number','itemKind','info','armorenchantedPoint=','armorLevel','getArmorLevel','armorSkillLevel','getWeaponLevel','weaponSkillLevel','debug','\x20equips\x20','getKindAsString','isArmor','equipArmor','isWeapon','isArcherWeapon','equipWeapon','\x20unequips\x20','isArcherArmor','resetHitPoints','resetMana','requestpos_callback'];(function(_0x4c05c8,_0x480c1c){var _0x5241da=function(_0x1639c1){while(--_0x1639c1){_0x4c05c8['push'](_0x4c05c8['shift']());}};_0x5241da(++_0x480c1c);}(a46_0x814e,0xd4));var a46_0x179a=function(_0x2b6100,_0x22b75a){_0x2b6100=_0x2b6100-0x0;var _0x4617e6=a46_0x814e[_0x2b6100];return _0x4617e6;};var cls=require(a46_0x179a('0x0')),_=require(a46_0x179a('0x1')),Character=require(a46_0x179a('0x2')),Chest=require(a46_0x179a('0x3')),Messages=require(a46_0x179a('0x4')),Utils=require(a46_0x179a('0x5')),MobData=require('./mobdata'),Formulas=require('./formulas'),check=require(a46_0x179a('0x6'))['check'],Party=require(a46_0x179a('0x7')),Items=require(a46_0x179a('0x8')),Bank=require(a46_0x179a('0x9')),Types=require(a46_0x179a('0xa')),ItemTypes=require(a46_0x179a('0xb')),bcrypt=require(a46_0x179a('0xc')),Inventory=require(a46_0x179a('0xd')),Mob=require(a46_0x179a('0xe')),SkillHandler=require(a46_0x179a('0xf')),Trade=require('./trade'),express=require('express'),bodyParser=require(a46_0x179a('0x10')),app=express(),Quests=require(a46_0x179a('0x11')),request=require(a46_0x179a('0x12')),EntitySpawn=require('./entityspawn');module[a46_0x179a('0x13')]=NpcPlayer=Character[a46_0x179a('0x14')]({'init':function(_0x259320,_0x1ba25e,_0x10c989,_0x23e6a3,_0x249ec6,_0x5d1f68,_0x5d6c1e,_0x290794){var _0x3ec4e5=this;this[a46_0x179a('0x15')]=_0x1ba25e;this['databaseHandler']=_0x10c989;this['_super'](_0x259320,a46_0x179a('0x16'),0x1,_0x23e6a3,_0x249ec6,_0x5d6c1e);this['isDead']=![];this[a46_0x179a('0x17')]={};this[a46_0x179a('0x18')]=null;this[a46_0x179a('0x19')]=null;this[a46_0x179a('0x1a')]=![];this[a46_0x179a('0x1b')]=0x0;this[a46_0x179a('0x1c')]=0x0;this[a46_0x179a('0x1d')]=null;this[a46_0x179a('0x1e')]=null;this[a46_0x179a('0x1f')](0x64);this[a46_0x179a('0x20')](0x3e8);this[a46_0x179a('0x21')]=0x0;this['aggroRange']=0xa;_0x3ec4e5['pvpLevel']=0x0;if(_0x3ec4e5[a46_0x179a('0x22')]==0x0)_0x3ec4e5[a46_0x179a('0x22')]=_0x3ec4e5[a46_0x179a('0x1c')];_0x3ec4e5['x']=_0x23e6a3;_0x3ec4e5['y']=_0x249ec6;_0x3ec4e5[a46_0x179a('0x23')]=![];_0x3ec4e5[a46_0x179a('0x24')]=Types['PlayerState']['Roaming'];_0x3ec4e5[a46_0x179a('0x25')]=_0x5d1f68;_0x3ec4e5[a46_0x179a('0x26')]={};_0x3ec4e5['map']=_0x5d6c1e;_0x3ec4e5[a46_0x179a('0x27')][a46_0x179a('0x28')](this);this[a46_0x179a('0x29')]=new Timer(Utils['randomRangeInt'](0xa,0x1e)*0x64,Date[a46_0x179a('0x2a')]());this[a46_0x179a('0x2b')]=null;this['partyExperience']=0x0;this['lastPartyExperience']=0x0;},'destroy':function(){var _0x27ad42=this;this[a46_0x179a('0x2c')](function(_0x5a44e8){_0x5a44e8[a46_0x179a('0x2d')]();});this[a46_0x179a('0x2e')]={};this[a46_0x179a('0x2f')](function(_0x512deb){_0x512deb[a46_0x179a('0x30')](_0x27ad42['id']);});this[a46_0x179a('0x17')]={};},'getState':function(){var _0x365ff2=this[a46_0x179a('0x31')](),_0xf015d8=[this[a46_0x179a('0x25')],this[a46_0x179a('0x32')],this[a46_0x179a('0x33')],this['weapon'],this[a46_0x179a('0x1c')],this['pClass']];if(this[a46_0x179a('0x34')]){_0xf015d8[a46_0x179a('0x35')](this[a46_0x179a('0x34')]['id']);}else _0xf015d8[a46_0x179a('0x35')](0x0);_0xf015d8[a46_0x179a('0x35')](this[a46_0x179a('0x36')]);_0xf015d8['push'](this[a46_0x179a('0x37')]);_0xf015d8['push'](this[a46_0x179a('0x38')]);_0xf015d8['push'](0x0);_0xf015d8[a46_0x179a('0x35')](0x0);return _0x365ff2[a46_0x179a('0x39')](_0xf015d8);},'getInfluence':function(_0x4b38fb){if(this[a46_0x179a('0x26')][a46_0x179a('0x3a')](_0x4b38fb['id']))return this['influence'][_0x4b38fb['id']];else{this[a46_0x179a('0x26')][_0x4b38fb['id']]=Utils[a46_0x179a('0x3b')](-0x4,0x8);return this[a46_0x179a('0x26')][_0x4b38fb['id']];}},'flagPVP':function(_0x34d20d){if(this['pvpFlag']!==_0x34d20d){log['info'](a46_0x179a('0x3c'));this['pvpFlag']=_0x34d20d;this[a46_0x179a('0x3d')](new Messages['PVP'](this[a46_0x179a('0x1a')])[a46_0x179a('0x3e')]());}},'addHater':function(_0x59805f){if(_0x59805f){if(!(_0x59805f['id']in this[a46_0x179a('0x17')])){this[a46_0x179a('0x17')][_0x59805f['id']]=_0x59805f;}}},'removeHater':function(_0x3b51a9){if(_0x3b51a9&&_0x3b51a9['id']in this[a46_0x179a('0x17')]){delete this[a46_0x179a('0x17')][_0x3b51a9['id']];}},'forEachHater':function(_0x1227fe){_[a46_0x179a('0x3f')](this[a46_0x179a('0x17')],function(_0x2432a0){_0x1227fe(_0x2432a0);});},'getRandomItemNumber':function(){var _0x3ca8f9=0x0;var _0x10360e=-0x1;var _0x416cd9=null;while(_0x3ca8f9<this['inventory'][a46_0x179a('0x40')]){_0x10360e=~~Utils['randomRange'](0x0,this[a46_0x179a('0x19')][a46_0x179a('0x40')]-0x1);_0x416cd9=this[a46_0x179a('0x19')]['rooms'][_0x10360e];if(_0x416cd9&&_0x416cd9[a46_0x179a('0x41')]>0x0)return _0x10360e;++_0x3ca8f9;}return-0x1;},'equipArmor':function(_0x2fbd33,_0x29eed1,_0x1bba75,_0x5721a0){log[a46_0x179a('0x42')](a46_0x179a('0x43')+_0x29eed1);this[a46_0x179a('0x33')]=_0x2fbd33;this[a46_0x179a('0x37')]=_0x29eed1;this[a46_0x179a('0x44')]=ItemTypes[a46_0x179a('0x45')](_0x2fbd33)+_0x29eed1;this['armorSkillKind']=_0x1bba75;this[a46_0x179a('0x46')]=_0x5721a0;},'equipWeapon':function(_0x10e4dc,_0x3e53c9,_0x17a0bd,_0x4693ee){this['weapon']=_0x10e4dc;this[a46_0x179a('0x38')]=_0x3e53c9;this['weaponLevel']=ItemTypes[a46_0x179a('0x47')](_0x10e4dc)+this[a46_0x179a('0x38')];this['weaponSkillKind']=_0x17a0bd;this[a46_0x179a('0x48')]=_0x4693ee;},'equipItem':function(_0x400b40,_0x1c0fac,_0x42c30e,_0x51d634,_0x1b61ea){if(_0x400b40){log[a46_0x179a('0x49')](this[a46_0x179a('0x25')]+a46_0x179a('0x4a')+ItemTypes[a46_0x179a('0x4b')](_0x400b40));log[a46_0x179a('0x42')]('equipItem-enchantedPoint='+_0x1c0fac);if(ItemTypes[a46_0x179a('0x4c')](_0x400b40)||ItemTypes['isArcherArmor'](_0x400b40)){databaseHandler[a46_0x179a('0x4d')](this[a46_0x179a('0x25')],ItemTypes[a46_0x179a('0x4b')](_0x400b40),_0x1c0fac,_0x42c30e,_0x51d634);this['equipArmor'](_0x400b40,_0x1c0fac,_0x42c30e,_0x51d634);}else if(ItemTypes[a46_0x179a('0x4e')](_0x400b40)||ItemTypes[a46_0x179a('0x4f')](_0x400b40)){databaseHandler['equipWeapon'](this[a46_0x179a('0x25')],ItemTypes[a46_0x179a('0x4b')](_0x400b40),_0x1c0fac,_0x42c30e,_0x51d634);this[a46_0x179a('0x50')](_0x400b40,_0x1c0fac,_0x42c30e,_0x51d634);}}},'unequipItem':function(_0x96c109){if(_0x96c109){log[a46_0x179a('0x49')](this[a46_0x179a('0x25')]+a46_0x179a('0x51')+ItemTypes[a46_0x179a('0x4b')](_0x96c109));if(ItemTypes[a46_0x179a('0x4c')](_0x96c109)||ItemTypes[a46_0x179a('0x52')](_0x96c109)){databaseHandler['equipArmor'](this[a46_0x179a('0x25')],'',0x0,0x0,0x0);this['equipArmor'](0x0,0x0,0x0,0x0);}else if(ItemTypes[a46_0x179a('0x4e')](_0x96c109)||ItemTypes[a46_0x179a('0x4f')](_0x96c109)){databaseHandler['equipWeapon'](this[a46_0x179a('0x25')],'',0x0,0x0,0x0);this[a46_0x179a('0x50')](0x0,0x0,0x0,0x0);}}},'updateHitPoints':function(){this[a46_0x179a('0x53')](this['getHp']());this[a46_0x179a('0x54')](this['getMp']());},'updatePosition':function(){if(this[a46_0x179a('0x55')]){var _0x1ab098=this['requestpos_callback']();this[a46_0x179a('0x56')](_0x1ab098['x'],_0x1ab098['y']);}},'incExp':function(_0x391f7e,_0x975c44){this[a46_0x179a('0x1b')]+=parseInt(_0x391f7e);if(_0x975c44)this[a46_0x179a('0x57')]+=parseInt(_0x391f7e);databaseHandler['setExp'](0x1,this[a46_0x179a('0x25')],this['experience']);var _0x247db1=this['level'];this['level']=Types[a46_0x179a('0x58')](this[a46_0x179a('0x1b')]);if(_0x247db1!==this[a46_0x179a('0x1c')]){this[a46_0x179a('0x59')]();}},'checkItemEquip':function(_0xf22219){var _0x127e29=this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0xf22219];var _0x55c4b9=this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0xf22219][a46_0x179a('0x41')];if(ItemTypes[a46_0x179a('0x4e')](_0x55c4b9)&&ItemTypes[a46_0x179a('0x47')](_0x55c4b9)<=this[a46_0x179a('0x1c')]&&ItemTypes[a46_0x179a('0x47')](_0x55c4b9)+_0x127e29['itemNumber']>this[a46_0x179a('0x5b')]){this[a46_0x179a('0x5c')](_0x127e29['kind'],_0x127e29[a46_0x179a('0x5d')],_0x127e29[a46_0x179a('0x5e')],_0x127e29['skillLevel']);this[a46_0x179a('0x5f')](_0x55c4b9,_0xf22219);}if(ItemTypes[a46_0x179a('0x4c')](_0x55c4b9)&&ItemTypes[a46_0x179a('0x45')](_0x55c4b9)<=this[a46_0x179a('0x1c')]&&ItemTypes[a46_0x179a('0x45')](_0x55c4b9)+_0x127e29[a46_0x179a('0x60')]>this[a46_0x179a('0x44')]){this[a46_0x179a('0x5c')](_0x127e29[a46_0x179a('0x61')],_0x127e29[a46_0x179a('0x5d')],_0x127e29[a46_0x179a('0x5e')],_0x127e29['skillLevel']);this[a46_0x179a('0x62')](_0x55c4b9,_0xf22219);}else if(_0x55c4b9&&!ItemTypes[a46_0x179a('0x63')](_0x55c4b9)&&_0x55c4b9!=0x190){this['handleInventoryEmpty'](_0x55c4b9,_0xf22219,0x1);}},'levelUp':function(){this[a46_0x179a('0x64')]();this['checkItemEquips']();},'checkItemEquips':function(){for(var _0x4d4d8a=0x6;_0x4d4d8a<0x18;++_0x4d4d8a){this[a46_0x179a('0x65')](_0x4d4d8a);}},'sendWelcome':function(_0x2866a2,_0x4bb0e3,_0x38c8fa,_0x3f98f5,_0x4c972d,_0x275c98,_0xeff561,_0x49789d,_0x2a299b,_0x3adc54,_0x46a2c1,_0x49ae50){log[a46_0x179a('0x42')]('NPC\x20-\x20ONWELCOME');var _0x48aac6=this;_0x48aac6[a46_0x179a('0x61')]=_0x3adc54;_0x48aac6[a46_0x179a('0x66')]=ItemTypes[a46_0x179a('0x67')](_0x2866a2);_0x48aac6[a46_0x179a('0x68')]=ItemTypes['getKindFromString'](_0x4bb0e3);_0x48aac6['equipArmor'](_0x48aac6['armorKind'],_0x3f98f5,_0x4c972d,_0x275c98);_0x48aac6[a46_0x179a('0x50')](_0x48aac6[a46_0x179a('0x68')],_0xeff561,_0x49789d,_0x2a299b);_0x48aac6[a46_0x179a('0x1b')]=_0x38c8fa;_0x48aac6[a46_0x179a('0x1c')]=Types[a46_0x179a('0x58')](_0x48aac6[a46_0x179a('0x1b')]);_0x48aac6['orientation']=Utils[a46_0x179a('0x69')]();_0x48aac6[a46_0x179a('0x21')]=_0x46a2c1;_0x48aac6[a46_0x179a('0x64')]();databaseHandler[a46_0x179a('0x6a')](_0x48aac6,function(_0x5663d6,_0x307505,_0x107b84,_0x5086f0,_0x489927){_0x48aac6[a46_0x179a('0x19')]=new Inventory(_0x48aac6,_0x5663d6,_0x307505,_0x107b84,_0x5086f0,_0x489927);_0x48aac6[a46_0x179a('0x6b')]();});log[a46_0x179a('0x42')](a46_0x179a('0x6c')+_0x48aac6['id']);_0x48aac6[a46_0x179a('0x6d')][a46_0x179a('0x6e')][a46_0x179a('0x6f')](_0x48aac6);},'canEquipArmor':function(_0x5305cb,_0x30815d){if(this['inventory'][a46_0x179a('0x5a')][_0x30815d][a46_0x179a('0x41')]==null)return![];if(this[a46_0x179a('0x19')]['rooms'][_0x30815d][a46_0x179a('0x41')]!=_0x5305cb)return![];var _0x58e98=ItemTypes['getArmorLevel'](_0x5305cb);if(_0x58e98*0x2>this[a46_0x179a('0x1c')]){return![];}if(ItemTypes[a46_0x179a('0x4c')](_0x5305cb)&&(this['pClass']!=Types['PlayerClass'][a46_0x179a('0x70')]&&this[a46_0x179a('0x21')]!=Types[a46_0x179a('0x71')][a46_0x179a('0x72')])||ItemTypes[a46_0x179a('0x52')](_0x5305cb)&&this['pClass']!=Types[a46_0x179a('0x71')]['ARCHER']){return![];}return!![];},'canEquipWeapon':function(_0x5619bb,_0x6e417){if(this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x6e417][a46_0x179a('0x41')]==null)return![];if(this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x6e417][a46_0x179a('0x41')]!=_0x5619bb)return![];var _0x7501f1=ItemTypes[a46_0x179a('0x47')](_0x5619bb);if(_0x7501f1*0x2>this[a46_0x179a('0x1c')]){return![];}if(ItemTypes[a46_0x179a('0x4e')](_0x5619bb)&&(this[a46_0x179a('0x21')]!=Types['PlayerClass'][a46_0x179a('0x70')]&&this[a46_0x179a('0x21')]!=Types[a46_0x179a('0x71')][a46_0x179a('0x72')])||ItemTypes[a46_0x179a('0x4f')](_0x5619bb)&&this['pClass']!=Types[a46_0x179a('0x71')][a46_0x179a('0x73')]){return![];}return!![];},'handleInventoryArmorUnequip':function(){if(this[a46_0x179a('0x19')][a46_0x179a('0x74')](this['armor'],this['armorEnchantedPoint'],this[a46_0x179a('0x75')],this[a46_0x179a('0x46')])>=0x0){this[a46_0x179a('0x76')](this['armor']);this[a46_0x179a('0x6d')][a46_0x179a('0x6e')][a46_0x179a('0x77')](this[a46_0x179a('0x78')](-0x2,0x0,0x0,0x0),![]);return!![];}return![];},'handleInventoryArmor':function(_0xe5b16d,_0x5d02e7){if(_0x5d02e7==-0x2){this[a46_0x179a('0x79')]();return;}if(!this[a46_0x179a('0x7a')](_0xe5b16d,_0x5d02e7)){return;}var _0x3199b7=this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x5d02e7][a46_0x179a('0x60')];var _0x118983=this[a46_0x179a('0x19')]['rooms'][_0x5d02e7]['itemSkillKind'];var _0x195aa4=this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x5d02e7]['itemSkillLevel'];if(this[a46_0x179a('0x33')]){this[a46_0x179a('0x19')]['setInventory'](_0x5d02e7,this[a46_0x179a('0x33')],this[a46_0x179a('0x37')],this[a46_0x179a('0x75')],this['armorSkillLevel']);}else this[a46_0x179a('0x19')][a46_0x179a('0x7b')](_0x5d02e7,null,0x0,0x0,0x0);this[a46_0x179a('0x5c')](_0xe5b16d,_0x3199b7,_0x118983,_0x195aa4,![]);this[a46_0x179a('0x6d')][a46_0x179a('0x6e')][a46_0x179a('0x77')](this[a46_0x179a('0x78')](_0xe5b16d,_0x3199b7,_0x118983,_0x195aa4),![]);},'handleInventoryWeaponUnequip':function(){if(this[a46_0x179a('0x19')][a46_0x179a('0x74')](this[a46_0x179a('0x7c')],this['weaponEnchantedPoint'],this[a46_0x179a('0x7d')],this[a46_0x179a('0x48')])>=0x0){this[a46_0x179a('0x76')](this[a46_0x179a('0x7c')]);this['map'][a46_0x179a('0x6e')][a46_0x179a('0x77')](this[a46_0x179a('0x78')](-0x1,0x0,0x0,0x0),![]);return!![];}return![];},'handleInventoryWeapon':function(_0x258d7e,_0x4d700c){var _0x22e56a=this;if(_0x4d700c==-0x1){_0x22e56a[a46_0x179a('0x7e')]();return;}if(!_0x22e56a[a46_0x179a('0x7f')](_0x258d7e,_0x4d700c)){return;}var _0xb7c741=_0x22e56a['inventory'][a46_0x179a('0x5a')][_0x4d700c][a46_0x179a('0x60')];var _0x5ac4fb=_0x22e56a[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x4d700c][a46_0x179a('0x80')];var _0x3e57a5=_0x22e56a[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x4d700c]['itemSkillLevel'];if(_0x22e56a[a46_0x179a('0x7c')]){_0x22e56a[a46_0x179a('0x19')][a46_0x179a('0x7b')](_0x4d700c,_0x22e56a['weapon'],_0x22e56a[a46_0x179a('0x38')],_0x22e56a[a46_0x179a('0x7d')],_0x22e56a['weaponSkillLevel']);}else _0x22e56a[a46_0x179a('0x19')][a46_0x179a('0x7b')](_0x4d700c,null,0x0,0x0,0x0);_0x22e56a['equipItem'](_0x258d7e,_0xb7c741,_0x5ac4fb,_0x3e57a5,![]);_0x22e56a[a46_0x179a('0x6d')][a46_0x179a('0x6e')]['pushBroadcast'](_0x22e56a['equip'](_0x258d7e,_0xb7c741,_0x5ac4fb,_0x3e57a5),![]);},'handleInventoryEmpty':function(_0x356b85,_0x1c3c7d,_0x5ebc11){var _0x2321e8=this[a46_0x179a('0x6d')][a46_0x179a('0x6e')][a46_0x179a('0x81')](_0x356b85,this['x'],this['y']);if(ItemTypes[a46_0x179a('0x63')](_0x2321e8[a46_0x179a('0x61')])||ItemTypes[a46_0x179a('0x82')](_0x2321e8[a46_0x179a('0x61')])){if(_0x5ebc11<0x0){_0x5ebc11=0x0;}else if(_0x5ebc11>this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x1c3c7d][a46_0x179a('0x60')]){_0x5ebc11=this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x1c3c7d]['itemNumber'];}_0x2321e8[a46_0x179a('0x5d')]=_0x5ebc11;}else if(ItemTypes['isWeapon'](_0x2321e8[a46_0x179a('0x61')])||ItemTypes['isArcherWeapon'](_0x2321e8[a46_0x179a('0x61')])||ItemTypes[a46_0x179a('0x4c')](_0x2321e8[a46_0x179a('0x61')])||ItemTypes[a46_0x179a('0x52')](_0x2321e8['kind'])){if(_0x1c3c7d>0x0){_0x2321e8[a46_0x179a('0x5d')]=this[a46_0x179a('0x19')]['rooms'][_0x1c3c7d][a46_0x179a('0x60')];_0x2321e8[a46_0x179a('0x5e')]=this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x1c3c7d][a46_0x179a('0x80')];_0x2321e8['skillLevel']=this[a46_0x179a('0x19')][a46_0x179a('0x5a')][_0x1c3c7d][a46_0x179a('0x83')];}else if(_0x1c3c7d==-0x1){_0x2321e8['count']=this[a46_0x179a('0x38')];_0x2321e8[a46_0x179a('0x5e')]=this[a46_0x179a('0x7d')];_0x2321e8[a46_0x179a('0x84')]=this[a46_0x179a('0x48')];}else if(_0x1c3c7d==-0x2){_0x2321e8['count']=this[a46_0x179a('0x37')];_0x2321e8[a46_0x179a('0x5e')]=this['armorSkillKind'];_0x2321e8['skillLevel']=this['armorSkillLevel'];}}if(_0x2321e8[a46_0x179a('0x5d')]>=0x0){this[a46_0x179a('0x6d')][a46_0x179a('0x6e')][a46_0x179a('0x85')](this[a46_0x179a('0x86')],new Messages[(a46_0x179a('0x87'))](this,_0x2321e8,this['x'],this['y']));this['server'][a46_0x179a('0x88')](_0x2321e8);if(_0x1c3c7d>=0x0){if(ItemTypes[a46_0x179a('0x63')](_0x2321e8[a46_0x179a('0x61')])||ItemTypes['isCraft'](_0x2321e8['kind'])){this[a46_0x179a('0x19')][a46_0x179a('0x89')](_0x1c3c7d,_0x2321e8[a46_0x179a('0x5d')]);}else{this[a46_0x179a('0x19')][a46_0x179a('0x8a')](_0x1c3c7d);}}else if(_0x1c3c7d==-0x1){this[a46_0x179a('0x76')](this[a46_0x179a('0x7c')]);this[a46_0x179a('0x6d')][a46_0x179a('0x6e')][a46_0x179a('0x77')](this[a46_0x179a('0x78')](-0x1,0x0,0x0,0x0),![]);}else if(_0x1c3c7d==-0x2){this[a46_0x179a('0x76')](this[a46_0x179a('0x33')]);this[a46_0x179a('0x6d')][a46_0x179a('0x6e')]['pushBroadcast'](this[a46_0x179a('0x78')](-0x2,0x0,0x0,0x0),![]);}}else{this[a46_0x179a('0x15')]['removeEntity'](_0x2321e8);this[a46_0x179a('0x19')][a46_0x179a('0x8a')](_0x1c3c7d);}},'handleInventoryEat':function(_0x3d21ad,_0x36fe7f){if(this[a46_0x179a('0x1e')]){return;}else{this[a46_0x179a('0x1e')]=setTimeout(function(){_0x3fb96e[a46_0x179a('0x1e')]=null;},0xfa0);}var _0x3fb96e=this;if(ItemTypes[a46_0x179a('0x8b')](_0x3d21ad)){this[a46_0x179a('0x6d')][a46_0x179a('0x6e')][a46_0x179a('0x77')](this[a46_0x179a('0x78')](_0x3d21ad,0x0,0x0,0x0),![]);}else{var _0x289ae6;switch(_0x3d21ad){case 0x23:_0x289ae6=0x64;break;case 0x24:_0x289ae6=0xc8;break;case 0x191:_0x289ae6=~~(this[a46_0x179a('0x8c')]*0.25);break;}if(!this[a46_0x179a('0x8d')]()){this[a46_0x179a('0x8e')](_0x289ae6);}}this[a46_0x179a('0x19')]['takeOutInventory'](_0x36fe7f,0x1);},'getHp':function(){if(this['pClass']==Types[a46_0x179a('0x71')][a46_0x179a('0x70')])return 0x12c+this[a46_0x179a('0x1c')]*0x28;if(this[a46_0x179a('0x21')]==Types[a46_0x179a('0x71')][a46_0x179a('0x72')])return 0x14a+this[a46_0x179a('0x1c')]*0x30;if(this['pClass']==Types[a46_0x179a('0x71')]['MAGE'])return 0xf0+this['level']*0x20;if(this[a46_0x179a('0x21')]==Types['PlayerClass'][a46_0x179a('0x73')])return 0x10e+this[a46_0x179a('0x1c')]*0x24;},'getMp':function(){if(this[a46_0x179a('0x21')]==Types['PlayerClass']['FIGHTER'])return 0x32+this['level']*0x2;if(this[a46_0x179a('0x21')]==Types[a46_0x179a('0x71')][a46_0x179a('0x72')])return 0x32+this['level']*0x2;if(this['pClass']==Types[a46_0x179a('0x71')]['MAGE'])return 0x64+this[a46_0x179a('0x1c')]*0xa;if(this[a46_0x179a('0x21')]==Types['PlayerClass'][a46_0x179a('0x73')])return 0x32+this[a46_0x179a('0x1c')]*0x2;},'drop':function(_0x2a135f,_0x80c6ea,_0xcdb37b){log[a46_0x179a('0x42')](JSON['stringify'](_0x2a135f));log[a46_0x179a('0x42')]('drop\x20x:'+_0x80c6ea+a46_0x179a('0x8f')+_0xcdb37b);if(_0x2a135f){log[a46_0x179a('0x42')]('drop\x20x:'+_0x80c6ea+a46_0x179a('0x8f')+_0xcdb37b);return new Messages['Drop'](this,_0x2a135f,_0x80c6ea,_0xcdb37b);}},'onMove':function(_0x3c06f3){this[a46_0x179a('0x90')]=_0x3c06f3;},'forgetEveryone':function(){this[a46_0x179a('0x91')]=[];this[a46_0x179a('0x92')]=[];},'canRoam':function(_0x1aa756){if(this[a46_0x179a('0x23')]==![]&&this[a46_0x179a('0x29')][a46_0x179a('0x93')](_0x1aa756)){return!![];}return![];},'setRoamRate':function(_0x16ca63){this['roamCooldown']=new Timer(_0x16ca63,Date[a46_0x179a('0x2a')]());},'isPartyXPOk':function(){var _0x41a9e0=!![];if(this[a46_0x179a('0x2b')][a46_0x179a('0x93')](Date['now']())){var _0x3feb9c=this[a46_0x179a('0x57')]-this['lastPartyExperience'];if(_0x3feb9c>0x0&&_0x3feb9c<(this[a46_0x179a('0x1c')]+0x1)*0x32)_0x41a9e0=![];this[a46_0x179a('0x94')]=this[a46_0x179a('0x57')];}return _0x41a9e0;},'setPartyXPCheckRate':function(_0x38a3cf){this['partyXPCheckCooldown']=new Timer(_0x38a3cf,Date[a46_0x179a('0x2a')]());}});