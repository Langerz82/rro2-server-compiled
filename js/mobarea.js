var a38_0x27aa=['entities','spaceEntityRandomApart','_getRandomPositionInsideArea','bind','./mob','entityCount','addMob','spawnChance','random','removeFromArea','forceStop','forgetEveryone','removeTarget','removeAttackers','spawningY','isDead','droppedItem','each','isMoving','isCharacterAt','./area','./mobdata','./message','../shared/js/gametypes','extend','minLevel','maxLevel','respawns','map','string','include','split','exclude','setNumberOfEntities','getByLevelRange','mobs','Kinds','length','kind','splice','definite','_createRandomMobInsideArea','excludeId','addToArea','_createMob'];(function(_0x816bcb,_0x1b419f){var _0x31e8ba=function(_0x1ac5f8){while(--_0x1ac5f8){_0x816bcb['push'](_0x816bcb['shift']());}};_0x31e8ba(++_0x1b419f);}(a38_0x27aa,0x14f));var a38_0x571c=function(_0x253142,_0xc75535){_0x253142=_0x253142-0x0;var _0x4e6316=a38_0x27aa[_0x253142];return _0x4e6316;};var Area=require(a38_0x571c('0x0')),_=require('underscore'),MobData=require(a38_0x571c('0x1')),Messages=require(a38_0x571c('0x2')),Types=require(a38_0x571c('0x3')),Utils=require('./utils');module['exports']=MobArea=Area[a38_0x571c('0x4')]({'init':function(_0x5449dd,_0xaf05b4,_0x231fbe,_0x37de01,_0x2fc13c,_0x39d661,_0x1d95ea,_0x2a6c38,_0x4bf625,_0x1fc1aa,_0x5f3b8c,_0x14e2fb,_0x57bd28,_0x13e763){this['_super'](_0x5449dd,_0x2fc13c,_0x39d661,_0x1d95ea,_0x2a6c38,_0x14e2fb,_0x57bd28,_0x13e763);this['nb']=_0xaf05b4;this[a38_0x571c('0x5')]=_0x231fbe;this[a38_0x571c('0x6')]=_0x37de01;this[a38_0x571c('0x7')]=[];this[a38_0x571c('0x8')]=_0x14e2fb;this['include']=null;if(typeof _0x4bf625===a38_0x571c('0x9'))this[a38_0x571c('0xa')]=_0x4bf625[a38_0x571c('0xb')](',');this[a38_0x571c('0xc')]=null;if(typeof _0x1fc1aa===a38_0x571c('0x9'))this[a38_0x571c('0xc')]=_0x1fc1aa[a38_0x571c('0xb')](',');this[a38_0x571c('0xd')](this['nb']);this['mobs']=MobData[a38_0x571c('0xe')](this[a38_0x571c('0x5')],this['maxLevel']);for(var _0x301899 in this[a38_0x571c('0xa')]){this[a38_0x571c('0xf')]['push'](MobData[a38_0x571c('0x10')][this['include'][_0x301899]]);}var _0x393e45=this[a38_0x571c('0xf')][a38_0x571c('0x11')];while(--_0x393e45>=0x0){for(var _0x5e4fd5 in this[a38_0x571c('0xc')]){if(this[a38_0x571c('0xf')][_0x393e45][a38_0x571c('0x12')]==this[a38_0x571c('0xc')][_0x5e4fd5]){this['mobs'][a38_0x571c('0x13')](_0x393e45,0x1);break;}}}this[a38_0x571c('0x14')]=null;if(_0x5f3b8c)this[a38_0x571c('0x14')]=_0x5f3b8c;},'spawnMobs':function(){for(var _0x2b94e0=0x0;_0x2b94e0<this['nb'];++_0x2b94e0){this['addToArea'](this[a38_0x571c('0x15')](),this[a38_0x571c('0x16')]);}if(this[a38_0x571c('0x14')]){var _0x3287a6=this[a38_0x571c('0x14')]['length']/0x2;for(var _0x2b94e0=0x0;_0x2b94e0<_0x3287a6;++_0x2b94e0){for(var _0x1a2939=0x0;_0x1a2939<this[a38_0x571c('0x14')][_0x2b94e0*0x2+0x1];++_0x1a2939)this[a38_0x571c('0x17')](this[a38_0x571c('0x18')](this[a38_0x571c('0x14')][_0x2b94e0*0x2]),this[a38_0x571c('0x16')]);}}},'_createMob':function(_0x5cc180){var _0x3e89da=this;var _0x378152=_0x3e89da[a38_0x571c('0x8')][a38_0x571c('0x19')][a38_0x571c('0x1a')](0x2,_0x3e89da[a38_0x571c('0x1b')][a38_0x571c('0x1c')](_0x3e89da,0x14));var _0x3439de=require(a38_0x571c('0x1d'));var _0x2486b1=_0x378152['x'],_0x404c74=_0x378152['y'];var _0x15a2d3=new _0x3439de(0x11170+ ++_0x3e89da[a38_0x571c('0x8')][a38_0x571c('0x19')][a38_0x571c('0x1e')],_0x5cc180,_0x2486b1,_0x404c74,_0x3e89da[a38_0x571c('0x8')],this);_0x3e89da['map'][a38_0x571c('0x19')][a38_0x571c('0x1f')](_0x15a2d3);_0x3e89da[a38_0x571c('0x17')](_0x15a2d3);return _0x15a2d3;},'_createRandomMobInsideArea':function(){var _0x2d3b22=0x0;var _0x1adb7c=0x0;if(!this[a38_0x571c('0xf')])return null;if(this['mobs'][a38_0x571c('0x11')]==0x1)return this[a38_0x571c('0x18')](this[a38_0x571c('0xf')][0x0][a38_0x571c('0x12')]);var _0xbc24cd=[];var _0x1abd5e=0x0;var _0xa91109=this[a38_0x571c('0xf')][a38_0x571c('0x11')];for(var _0x1e9b72=0x0;_0x1e9b72<_0xa91109;++_0x1e9b72){for(var _0x3539fc=0x0;_0x3539fc<this[a38_0x571c('0xf')][_0x1e9b72][a38_0x571c('0x20')];++_0x3539fc){_0xbc24cd[_0x1e9b72*_0xa91109+_0x3539fc]=this[a38_0x571c('0xf')][_0x1e9b72]['kind'];}_0x1abd5e+=this['mobs'][_0x1e9b72][a38_0x571c('0x20')];}while(_0x1adb7c==0x0||_0x1adb7c==undefined){var _0x285d07=Utils[a38_0x571c('0x21')](_0x1abd5e-0x1);_0x1adb7c=_0xbc24cd[_0x285d07];}return this[a38_0x571c('0x18')](_0x1adb7c);},'respawnMob':function(_0x10b793,_0x492f32){var _0x87297=this;_0x492f32=_0x10b793['spawnDelay']||_0x492f32;this[a38_0x571c('0x22')](_0x10b793);setTimeout(function(){var _0x128034=_0x87297[a38_0x571c('0x8')][a38_0x571c('0x19')][a38_0x571c('0x1a')](0x1,_0x87297[a38_0x571c('0x1b')][a38_0x571c('0x1c')](_0x87297,0x14));var _0x488e8c=_0x128034['x'],_0x4aa328=_0x128034['y'];_0x10b793[a38_0x571c('0x23')]();_0x10b793[a38_0x571c('0x24')]();_0x10b793[a38_0x571c('0x25')]();_0x10b793[a38_0x571c('0x26')]();_0x10b793['x']=_0x488e8c;_0x10b793['y']=_0x4aa328;_0x10b793['spawningX']=_0x488e8c;_0x10b793[a38_0x571c('0x27')]=_0x4aa328;_0x10b793[a38_0x571c('0x28')]=![];_0x10b793[a38_0x571c('0x29')]=![];_0x87297[a38_0x571c('0x17')](_0x10b793);_0x87297['map'][a38_0x571c('0x19')]['addMob'](_0x10b793);_0x87297[a38_0x571c('0x8')][a38_0x571c('0x19')]['pushNeighbours'](_0x87297,new Messages['Spawn'](_0x10b793));},_0x492f32);},'Roaming':function(){var _0x159139=this;_[a38_0x571c('0x2a')](_0x159139[a38_0x571c('0x8')][a38_0x571c('0x19')][a38_0x571c('0xf')],function(_0x148da7){if(_0x148da7&&!_0x148da7['hasTarget']()&&!_0x148da7[a38_0x571c('0x28')]&&!_0x148da7['isReturning']&&!_0x148da7[a38_0x571c('0x2b')]()){var _0x2903a7=Utils[a38_0x571c('0x21')](0x5)==0x1;if(_0x2903a7&&_0x159139[a38_0x571c('0x8')][a38_0x571c('0x19')]['getPlayerAroundCount'](_0x148da7,0xa)==0x0)return;var _0x2e4b5e=_0x159139[a38_0x571c('0x8')][a38_0x571c('0x19')]['getRandomPosition'](_0x148da7,0x5);if(_0x2e4b5e&&_0x159139['contains'](_0x2e4b5e['x'],_0x2e4b5e['y'],0x0)&&!(_0x2e4b5e['x']==_0x148da7['x']&&_0x2e4b5e['y']==_0x148da7['y'])){if(_0x159139[a38_0x571c('0x8')]['entities'][a38_0x571c('0x2c')](_0x2e4b5e['x'],_0x2e4b5e['y']))return;}}});}});