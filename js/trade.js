var a63_0x580d=['otherPlayer','requestAssistant','items','currentState','rooms','otherPlayerSentRequest','currentPlayerSentRequest','startTradingProcess','map','entities','pushToPlayer','Notify','You\x20requested\x20a\x20trade\x20with\x20','name','info','admin','Messages','INVENTORYSTATE','STARTED','server','TRADESCREEN','inventory','isConsumableItem','kind','TRADESTATES','TRADECOUNT','push','TradeStates','roomId','delete','./lib/class','../shared/js/gametypes','./requesthandler','./message','Class','extend','player'];(function(_0x294115,_0x3d4e66){var _0x5d5f0c=function(_0x3ad37c){while(--_0x3ad37c){_0x294115['push'](_0x294115['shift']());}};_0x5d5f0c(++_0x3d4e66);}(a63_0x580d,0x121));var a63_0x5d4a=function(_0x22310c,_0x464a3f){_0x22310c=_0x22310c-0x0;var _0x56e2d9=a63_0x580d[_0x22310c];return _0x56e2d9;};var cls=require(a63_0x5d4a('0x0')),Types=require(a63_0x5d4a('0x1')),RequestHandler=require(a63_0x5d4a('0x2')),Messages=require(a63_0x5d4a('0x3'));module['exports']=Trade=cls[a63_0x5d4a('0x4')][a63_0x5d4a('0x5')]({'init':function(_0x617861,_0x4a9ba4,_0x407ad4){this[a63_0x5d4a('0x6')]=_0x617861;this[a63_0x5d4a('0x7')]=_0x4a9ba4;this[a63_0x5d4a('0x8')]=new RequestHandler(_0x617861,_0x4a9ba4);this[a63_0x5d4a('0x9')]={};this[a63_0x5d4a('0xa')]=null;this[a63_0x5d4a('0xb')]=_0x407ad4;this['roomId']=0x0;},'sendRequest':function(_0x4c91aa,_0x42bafc){if(this[a63_0x5d4a('0xc')]&&this['currentPlayerSentRequest']||this[a63_0x5d4a('0xd')]&&this[a63_0x5d4a('0xc')]){this[a63_0x5d4a('0xe')](_0x4c91aa,_0x42bafc);return;}if(_0x4c91aa&&_0x42bafc){_0x4c91aa[a63_0x5d4a('0xf')][a63_0x5d4a('0x10')][a63_0x5d4a('0x11')](_0x4c91aa,new Messages[(a63_0x5d4a('0x12'))](a63_0x5d4a('0x13')+_0x42bafc[a63_0x5d4a('0x14')]+'.'));_0x42bafc[a63_0x5d4a('0xf')][a63_0x5d4a('0x10')][a63_0x5d4a('0x11')](_0x42bafc,new Messages[(a63_0x5d4a('0x12'))](_0x4c91aa[a63_0x5d4a('0x14')]+'\x20has\x20requested\x20to\x20trade\x20you.'));this[a63_0x5d4a('0xd')]=!![];return;}log[a63_0x5d4a('0x15')]('An\x20error\x20has\x20occured.');},'startTradingProcess':function(_0x14558a,_0x1f590d){if(_0x14558a[a63_0x5d4a('0x16')]){_0x14558a[a63_0x5d4a('0xf')][a63_0x5d4a('0x10')]['pushToPlayer'](_0x14558a);return;}this[a63_0x5d4a('0xa')]=Types[a63_0x5d4a('0x17')][a63_0x5d4a('0x18')][a63_0x5d4a('0x19')];_0x1f590d[a63_0x5d4a('0x1a')][a63_0x5d4a('0x11')](_0x1f590d,Types[a63_0x5d4a('0x17')][a63_0x5d4a('0x1b')]);_0x14558a[a63_0x5d4a('0xf')]['entities'][a63_0x5d4a('0x11')](_0x14558a,Types[a63_0x5d4a('0x17')][a63_0x5d4a('0x1b')]);},'addItemToTradeSession':function(_0x2b39a0,_0x8823a3,_0x44bae9,_0xa59199,_0x3f5b1c,_0x287b39,_0x128779,_0x13cfc0,_0x3eed67){for(var _0x21a78a=0x0;_0x21a78a<_0x3f5b1c[a63_0x5d4a('0x1c')][a63_0x5d4a('0xb')];_0x21a78a++){for(var _0x2b00d3 in _0x21a78a){if(ItemTypes[a63_0x5d4a('0x1d')](_0x2b00d3[a63_0x5d4a('0x1e')])){_0x3f5b1c['map'][a63_0x5d4a('0x10')]['pushToPlayer'](_0x3f5b1c,Types[a63_0x5d4a('0x17')][a63_0x5d4a('0x1f')][a63_0x5d4a('0x20')]);if(_0xa59199>_0x13cfc0){this[a63_0x5d4a('0x9')][a63_0x5d4a('0x21')](_0x2b39a0,_0x8823a3,_0x44bae9,_0xa59199);_0x3f5b1c[a63_0x5d4a('0xf')][a63_0x5d4a('0x10')][a63_0x5d4a('0x11')](_0x3f5b1c,new Messages[(a63_0x5d4a('0x22'))]());}else{this['items']['push'](_0x2b39a0,_0x8823a3,_0x44bae9,_0x13cfc0);}}else{this['items'][a63_0x5d4a('0x21')](_0x2b39a0,_0x8823a3,_0x44bae9,_0xa59199);}}}},'removeItemFromTradeSession':function(_0x4b3ab3,_0x4dc502,_0x2bb0c3,_0x51c48f,_0x26501c,_0x1e0e8b,_0x572c8a){this[a63_0x5d4a('0x23')]=_0x572c8a;for(_0x572c8a in this[a63_0x5d4a('0xb')]){_0x572c8a[a63_0x5d4a('0x24')](_0x4b3ab3,_0x4dc502,_0x2bb0c3,_0x51c48f);_0x26501c[a63_0x5d4a('0xf')][a63_0x5d4a('0x10')]['pushToPlayer'](_0x26501c,Types[a63_0x5d4a('0x17')][a63_0x5d4a('0x1f')]['ITEMREMOVED']);}}});