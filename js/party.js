var a48_0x5bd6=['map','pushToPlayer','Party','level','incMobExp','entities','isPartyXPOk','Chat','\x20has\x20left\x20your\x20group,\x20Not\x20enough\x20xp.','./lib/class','./mobdata.js','./message.js','exports','extend','players','party','removePlayer','leader','setPartyXPCheckRate','push','length','send','PARTY','splice','sendMembersName','Messages','name'];(function(_0x31e7cb,_0x2386a9){var _0x217178=function(_0x3d9f43){while(--_0x3d9f43){_0x31e7cb['push'](_0x31e7cb['shift']());}};_0x217178(++_0x2386a9);}(a48_0x5bd6,0xfc));var a48_0x1d34=function(_0x558eb6,_0x4b0c33){_0x558eb6=_0x558eb6-0x0;var _0x28c022=a48_0x5bd6[_0x558eb6];return _0x28c022;};var cls=require(a48_0x1d34('0x0'));var MobData=require(a48_0x1d34('0x1'));var Messages=require(a48_0x1d34('0x2'));module[a48_0x1d34('0x3')]=Party=Class[a48_0x1d34('0x4')]({'init':function(_0x19d426,_0x24409d){this[a48_0x1d34('0x5')]=[_0x19d426,_0x24409d];if(_0x19d426[a48_0x1d34('0x6')]){_0x19d426[a48_0x1d34('0x6')]['removePlayer'](_0x19d426);}if(_0x24409d[a48_0x1d34('0x6')]){_0x24409d['party'][a48_0x1d34('0x7')](_0x24409d);}_0x19d426[a48_0x1d34('0x6')]=this;_0x24409d[a48_0x1d34('0x6')]=this;this[a48_0x1d34('0x8')]=_0x19d426;if(_0x24409d&&_0x24409d instanceof NpcPlayer)_0x24409d[a48_0x1d34('0x9')](0x493e0);this['sendMembersName']();},'addPlayer':function(_0x5f186f){if(_0x5f186f){this[a48_0x1d34('0x5')][a48_0x1d34('0xa')](_0x5f186f);if(_0x5f186f[a48_0x1d34('0x6')]){_0x5f186f['party']['removePlayer'](_0x5f186f);}_0x5f186f['party']=this;}if(_0x5f186f instanceof NpcPlayer)_0x5f186f[a48_0x1d34('0x9')](0x493e0);this['sendMembersName']();},'removePlayer':function(_0x5afa98){var _0x1367a3=0x0;if(_0x5afa98==this['leader'])this[a48_0x1d34('0x8')]=this[a48_0x1d34('0x5')][0x0];if(_0x5afa98){for(_0x1367a3=0x0;_0x1367a3<this['players'][a48_0x1d34('0xb')];_0x1367a3++){if(_0x5afa98===this[a48_0x1d34('0x5')][_0x1367a3]){if(_0x5afa98 instanceof Player)this[a48_0x1d34('0x5')][_0x1367a3][a48_0x1d34('0xc')]([Types['Messages'][a48_0x1d34('0xd')]]);this[a48_0x1d34('0x5')][_0x1367a3]['party']=null;this[a48_0x1d34('0x5')][a48_0x1d34('0xe')](_0x1367a3,0x1);this[a48_0x1d34('0xf')]();break;}}}},'sendMembersName':function(){var _0x3ee5b8=0x0;var _0x1de745=[Types[a48_0x1d34('0x10')][a48_0x1d34('0xd')]];var _0x4e00d1=this[a48_0x1d34('0x5')];if(_0x4e00d1[a48_0x1d34('0xb')]>0x1){_0x1de745[a48_0x1d34('0xa')](this[a48_0x1d34('0x8')]['name']);for(_0x3ee5b8=0x0;_0x3ee5b8<_0x4e00d1[a48_0x1d34('0xb')];_0x3ee5b8++){if(_0x4e00d1[_0x3ee5b8]!==this[a48_0x1d34('0x8')])_0x1de745[a48_0x1d34('0xa')](_0x4e00d1[_0x3ee5b8][a48_0x1d34('0x11')]);}}for(_0x3ee5b8=0x0;_0x3ee5b8<_0x4e00d1[a48_0x1d34('0xb')];_0x3ee5b8++){if(_0x4e00d1[_0x3ee5b8]instanceof Player)_0x4e00d1[_0x3ee5b8][a48_0x1d34('0x12')]['entities'][a48_0x1d34('0x13')](_0x4e00d1[_0x3ee5b8],new Messages[(a48_0x1d34('0x14'))](_0x1de745));}},'sumTotalLevel':function(){var _0x55c052=0x0;var _0x1fea1e=0x0;for(_0x55c052=0x0;_0x55c052<this[a48_0x1d34('0x5')][a48_0x1d34('0xb')];_0x55c052++){_0x1fea1e+=this[a48_0x1d34('0x5')][_0x55c052][a48_0x1d34('0x15')];}return _0x1fea1e+0x1;},'incExp':function(_0xcbb3b6){var _0x405c4a=0x0;var _0x120650=this['sumTotalLevel']();for(_0x405c4a=0x0;_0x405c4a<this['players'][a48_0x1d34('0xb')];_0x405c4a++){var _0x12f876=this[a48_0x1d34('0x5')][_0x405c4a];if(_0xcbb3b6['map']==_0x12f876[a48_0x1d34('0x12')])var _0x8c9375=_0x12f876[a48_0x1d34('0x16')](_0xcbb3b6,this['players']['length']);if(_0x12f876 instanceof Player)_0x12f876['map'][a48_0x1d34('0x17')][a48_0x1d34('0x13')](_0x12f876,new Messages['Kill'](_0xcbb3b6,_0x12f876[a48_0x1d34('0x15')],_0x8c9375));if(_0x12f876 instanceof NpcPlayer){if(!_0x12f876[a48_0x1d34('0x18')]()){if(this[a48_0x1d34('0x8')]instanceof Player)this[a48_0x1d34('0x8')]['map'][a48_0x1d34('0x17')][a48_0x1d34('0x13')](this[a48_0x1d34('0x8')],new Messages[(a48_0x1d34('0x19'))](this['leader'],_0x12f876[a48_0x1d34('0x11')]+a48_0x1d34('0x1a')));this['removePlayer'](_0x12f876);}}}},'getHighestLevel':function(){var _0x2d8c99=0x0;var _0x1549d4=0x0;for(_0x2d8c99=0x0;_0x2d8c99<this[a48_0x1d34('0x5')][a48_0x1d34('0xb')];_0x2d8c99++){if(_0x1549d4<this[a48_0x1d34('0x5')][_0x2d8c99][a48_0x1d34('0x15')]){_0x1549d4=this[a48_0x1d34('0x5')][_0x2d8c99][a48_0x1d34('0x15')];}}return _0x1549d4;},'getLowestLevel':function(){var _0x2fa690=0x0;var _0x2ac6f6=0x3e7;for(_0x2fa690=0x0;_0x2fa690<this[a48_0x1d34('0x5')][a48_0x1d34('0xb')];_0x2fa690++){if(_0x2ac6f6>this[a48_0x1d34('0x5')][_0x2fa690]['level']){_0x2ac6f6=this['players'][_0x2fa690][a48_0x1d34('0x15')];}}return _0x2ac6f6;}});