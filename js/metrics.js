var a36_0x4b8a=['client','connect','isReady','info','Metrics\x20enabled:\x20memcached\x20client\x20connected\x20to\x20','readyCallback','config','size','reduce','playerCount','player_count_','server_name','game_servers','get','name','set','total_players','error','Memcached\x20client\x20not\x20connected','world_count_','nb_worlds','exports','underscore','./lib/class','Class','extend','Client','memcached_port','memcached_host'];(function(_0xf8db1c,_0x86219d){var _0x583b47=function(_0x240234){while(--_0x240234){_0xf8db1c['push'](_0xf8db1c['shift']());}};_0x583b47(++_0x86219d);}(a36_0x4b8a,0x11b));var a36_0x1597=function(_0x322431,_0x283459){_0x322431=_0x322431-0x0;var _0x1d1581=a36_0x4b8a[_0x322431];return _0x1d1581;};var _=require(a36_0x1597('0x0'));var cls=require(a36_0x1597('0x1'));var Metrics={};Metrics=cls[a36_0x1597('0x2')][a36_0x1597('0x3')]({'init':function(_0x5766c4){var _0x22c17d=this;this['config']=_0x5766c4;this['client']=new(require('memcache'))[(a36_0x1597('0x4'))](_0x5766c4[a36_0x1597('0x5')],_0x5766c4[a36_0x1597('0x6')]);this[a36_0x1597('0x7')][a36_0x1597('0x8')]();this[a36_0x1597('0x9')]=![];this[a36_0x1597('0x7')]['on']('connect',function(){log[a36_0x1597('0xa')](a36_0x1597('0xb')+_0x5766c4[a36_0x1597('0x6')]+':'+_0x5766c4[a36_0x1597('0x5')]);_0x22c17d['isReady']=!![];if(_0x22c17d[a36_0x1597('0xc')]){_0x22c17d[a36_0x1597('0xc')]();}});},'ready':function(_0x3db21c){this[a36_0x1597('0xc')]=_0x3db21c;},'updatePlayerCounters':function(_0x126c8f,_0x3f8b14){var _0x208cad=this;var _0x576f60=this[a36_0x1597('0xd')];var _0x1df372=_[a36_0x1597('0xe')](_0x576f60['game_servers']);var _0x125eb9=_[a36_0x1597('0xf')](_0x126c8f,function(_0x40176c,_0x1a10cf){return _0x40176c+_0x1a10cf[a36_0x1597('0x10')];},0x0);if(this[a36_0x1597('0x9')]){this['client']['set'](a36_0x1597('0x11')+_0x576f60[a36_0x1597('0x12')],_0x125eb9,function(){var _0x2d5c9a=0x0;_['each'](_0x576f60[a36_0x1597('0x13')],function(_0x8f48e3){_0x208cad[a36_0x1597('0x7')][a36_0x1597('0x14')]('player_count_'+_0x8f48e3[a36_0x1597('0x15')],function(_0x179959,_0x2b9ffa){var _0x317c44=_0x2b9ffa?parseInt(_0x2b9ffa,0xa):0x0;_0x2d5c9a+=_0x317c44;_0x1df372-=0x1;if(_0x1df372===0x0){_0x208cad[a36_0x1597('0x7')][a36_0x1597('0x16')](a36_0x1597('0x17'),_0x2d5c9a,function(){if(_0x3f8b14){_0x3f8b14(_0x2d5c9a);}});}});});});}else{log[a36_0x1597('0x18')](a36_0x1597('0x19'));}},'updateWorldDistribution':function(_0x2676a8){this['client']['set']('world_distribution_'+this[a36_0x1597('0xd')][a36_0x1597('0x12')],_0x2676a8);},'updateWorldCount':function(){this['client'][a36_0x1597('0x16')](a36_0x1597('0x1a')+this[a36_0x1597('0xd')][a36_0x1597('0x12')],this['config'][a36_0x1597('0x1b')]);},'getOpenWorldCount':function(_0x27bf21){this['client'][a36_0x1597('0x14')](a36_0x1597('0x1a')+this[a36_0x1597('0xd')][a36_0x1597('0x12')],function(_0x4d91d0,_0x1f0d56){_0x27bf21(_0x1f0d56);});},'getTotalPlayers':function(_0x3fce4e){this[a36_0x1597('0x7')][a36_0x1597('0x14')](a36_0x1597('0x17'),function(_0x4fa649,_0x459d16){_0x3fce4e(_0x459d16);});}});module[a36_0x1597('0x1c')]=Metrics;