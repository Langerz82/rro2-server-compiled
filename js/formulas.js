var a15_0x4fa5=['undefined','exports','./utils','../shared/js/itemtypes','crit','weaponEnchantedPoint','stats','strength','agility','luck','level','randomRange','hit','accuracy','dazeChance','isAdjacentNonDiagonal','isBlocking','clamp','dmg','pvpLevel','getWeaponLevel','attackLevel','weapon','itemDurability','itemDurabilityMax','skillPassiveAttack','equipment','rooms','itemKind','itemNumber','skillPassiveDefense','floor','ceil','incAttackExp','pickPocket','mindControl','fatigue'];(function(_0x137461,_0x2cb629){var _0x3db206=function(_0x31753a){while(--_0x31753a){_0x137461['push'](_0x137461['shift']());}};_0x3db206(++_0x2cb629);}(a15_0x4fa5,0x12a));var a15_0x5d17=function(_0x52f3a7,_0x42aca3){_0x52f3a7=_0x52f3a7-0x0;var _0x533d3c=a15_0x4fa5[_0x52f3a7];return _0x533d3c;};var Utils=require(a15_0x5d17('0x0')),ItemTypes=require(a15_0x5d17('0x1')),Formulas={};Formulas[a15_0x5d17('0x2')]=function(_0x3d6846,_0x2adcce){var _0x2166e5=_0x3d6846[a15_0x5d17('0x2')]-_0x2adcce[a15_0x5d17('0x2')]+_0x3d6846[a15_0x5d17('0x3')]/0x2;var _0x229308=_0x3d6846 instanceof Player?~~(_0x3d6846[a15_0x5d17('0x4')][a15_0x5d17('0x5')]/0x8)+~~(_0x3d6846['stats'][a15_0x5d17('0x6')]/0x8)+~~(_0x3d6846[a15_0x5d17('0x4')][a15_0x5d17('0x7')]/0x5):_0x3d6846['level']*1.5-(_0x2adcce instanceof Player)?~~(_0x2adcce[a15_0x5d17('0x4')]['strength']/0x8)+~~(_0x2adcce[a15_0x5d17('0x4')]['agility']/0x8)+~~(_0x2adcce['stats'][a15_0x5d17('0x7')]/0x5):_0x2adcce[a15_0x5d17('0x8')]*1.5;var _0x49a9b7=Utils[a15_0x5d17('0x9')](0x0,0xc8)<=Utils['clamp'](0x5,0xc3,~~(0x5+_0x229308+_0x2166e5));return _0x49a9b7;};Formulas[a15_0x5d17('0xa')]=function(_0x159e24,_0x5aa10a){var _0x1a32b4=_0x159e24 instanceof Player?_0x159e24[a15_0x5d17('0x4')][a15_0x5d17('0x6')]/0x2+~~(_0x159e24[a15_0x5d17('0x4')][a15_0x5d17('0x7')]/0x5):_0x159e24['level']*1.25-(_0x5aa10a instanceof Player)?_0x5aa10a[a15_0x5d17('0x4')][a15_0x5d17('0x6')]/0x2+~~(_0x5aa10a['stats'][a15_0x5d17('0x7')]/0x5):_0x5aa10a[a15_0x5d17('0x8')]*1.25;var _0x167bc4=_0x159e24[a15_0x5d17('0xb')]-_0x159e24[a15_0x5d17('0xc')]+_0x159e24[a15_0x5d17('0x3')];if(ItemTypes['isArcherWeapon'](_0x159e24['weapon'])&&_0x159e24[a15_0x5d17('0xd')](_0x5aa10a))_0x167bc4-=0x5;if(_0x159e24[a15_0x5d17('0x8')]<0x14)_0x167bc4+=0x28-_0x159e24['level']*0x2;blockDiff=_0x5aa10a[a15_0x5d17('0xe')]?0x32:0x0;var _0x3a2ec6=Utils['randomRange'](0x0,0x96)<=Utils[a15_0x5d17('0xf')](0x5,0x91,~~(0x32+_0x1a32b4+_0x167bc4-blockDiff));return _0x3a2ec6;};Formulas[a15_0x5d17('0x10')]=function(_0x2ef5c5,_0x5cdf2){var _0x55e845,_0x2ce2e0,_0x575d11;var _0x43dea6=_0x2ef5c5[a15_0x5d17('0x8')];var _0x49ae3e=_0x5cdf2[a15_0x5d17('0x8')];if(_0x2ef5c5 instanceof Player&&_0x5cdf2 instanceof Player){_0x43dea6=_0x2ef5c5['pvpLevel'];_0x49ae3e=_0x5cdf2[a15_0x5d17('0x11')];}var _0x52941d=_0x2ef5c5 instanceof Player?_0x2ef5c5['equipment']['rooms'][0x1]:null;_0x55e845=~~((_0x52941d?ItemTypes[a15_0x5d17('0x12')](_0x52941d['itemKind'])*0x3+_0x52941d['itemNumber']*0x2:_0x2ef5c5 instanceof Player?_0x2ef5c5[a15_0x5d17('0x8')]*0x2+0xa:0x0)+Utils[a15_0x5d17('0x9')](~~((_0x43dea6+0x1)*(_0x2ef5c5 instanceof Player?_0x2ef5c5[a15_0x5d17('0x13')]/0x32+0x1:0x4)),~~(_0x2ef5c5 instanceof Player?~~((_0x43dea6*0x4+0x1)*(_0x2ef5c5[a15_0x5d17('0x13')]/0x32+0x1)):(_0x43dea6+0x1)*0x8)));if(_0x2ef5c5 instanceof Player&&_0x52941d){if(ItemTypes['isArcherWeapon'](_0x2ef5c5[a15_0x5d17('0x14')]))_0x55e845+=_0x2ef5c5[a15_0x5d17('0x4')][a15_0x5d17('0x6')]+~~(_0x2ef5c5[a15_0x5d17('0x4')]['strength']/0x2)+~~(_0x2ef5c5[a15_0x5d17('0x4')][a15_0x5d17('0x7')]/0x6);else _0x55e845+=_0x2ef5c5[a15_0x5d17('0x4')][a15_0x5d17('0x5')]+~~(_0x2ef5c5[a15_0x5d17('0x4')][a15_0x5d17('0x6')]/0x2)+~~(_0x2ef5c5[a15_0x5d17('0x4')][a15_0x5d17('0x7')]/0x6);}else{_0x55e845+=~~(_0x2ef5c5[a15_0x5d17('0x8')]*0x2);}if(_0x2ef5c5 instanceof Player&&_0x52941d){_0x55e845=~~(_0x55e845*(_0x52941d[a15_0x5d17('0x15')]/_0x52941d[a15_0x5d17('0x16')]*0.5+0.5));}if(_0x2ef5c5 instanceof Player&&_0x2ef5c5['skillPassiveAttack']>0x0){_0x55e845=~~(_0x55e845*(0x1+_0x2ef5c5[a15_0x5d17('0x17')]/0x64));}var _0x2728a0=_0x5cdf2 instanceof Player?_0x5cdf2[a15_0x5d17('0x18')][a15_0x5d17('0x19')][0x1]:null;_0x2ce2e0=~~(~~(_0x2728a0?ItemTypes['getArmorLevel'](_0x2728a0[a15_0x5d17('0x1a')])*0x3+_0x2728a0[a15_0x5d17('0x1b')]*0x2:_0x5cdf2 instanceof Player?0x5:0x5)+_0x49ae3e*(_0x5cdf2 instanceof Player?_0x5cdf2['defenseLevel']/0x32+0x1:0x2));_0x2ce2e0=~~_0x2ce2e0;if(_0x5cdf2 instanceof Player&&_0x2728a0){_0x2ce2e0=~~(_0x2ce2e0*(_0x2728a0[a15_0x5d17('0x15')]/_0x2728a0[a15_0x5d17('0x16')]*0.5+0.5));}if(_0x5cdf2 instanceof Player&&_0x5cdf2[a15_0x5d17('0x1c')]>0x0){_0x2ce2e0=~~(_0x2ce2e0*(0x1+_0x5cdf2['skillPassiveDefense']/0x64));}_0x575d11=_0x55e845-_0x2ce2e0;if(_0x2ef5c5 instanceof Player){_0x575d11=_0x575d11<=0x2?Utils[a15_0x5d17('0x9')](0x2,0x5):_0x575d11;}if(_0x5cdf2[a15_0x5d17('0x8')]>_0x2ef5c5[a15_0x5d17('0x8')]){if(_0x2ef5c5 instanceof Player&&_0x5cdf2 instanceof Mob){_0x575d11=Math[a15_0x5d17('0x1d')](_0x575d11*(_0x2ef5c5[a15_0x5d17('0x8')]-_0x5cdf2[a15_0x5d17('0x8')]+0x1e)/0x1e);}}if(_0x2ef5c5 instanceof Player&&_0x43dea6<0x14){_0x575d11*=0x1+(0x14-_0x43dea6)/0x14;_0x575d11=Math[a15_0x5d17('0x1e')](_0x575d11);}if(_0x2ef5c5 instanceof Player&&_0x575d11>0x0)_0x2ef5c5[a15_0x5d17('0x1f')](_0x575d11);if(_0x5cdf2 instanceof Player&&_0x575d11>0x0)_0x5cdf2['incDefenseExp'](_0x575d11);if(_0x575d11<=0x0){return 0x0;}else{return _0x575d11;}};Formulas[a15_0x5d17('0x20')]=function(_0x9e9332,_0x1b10a7,_0x59d2c0){if(_0x1b10a7[a15_0x5d17('0x8')]-_0x9e9332['level']+~~Utils[a15_0x5d17('0x9')](0x0,0x64)<=_0x59d2c0)return!![];return![];};Formulas[a15_0x5d17('0x21')]=function(_0xcde862,_0xe72e0c){if(_0xe72e0c[a15_0x5d17('0x8')]<=_0xcde862[a15_0x5d17('0x8')]&&~~Utils[a15_0x5d17('0x9')](0x0,~~(_0xe72e0c['level']*0x32/_0xcde862[a15_0x5d17('0x8')]))===0x0)return!![];return![];};Formulas['hp']=function(_0x401069){var _0x3fa066=0x64+_0x401069*0x8*0x5;return _0x3fa066;};Formulas[a15_0x5d17('0x22')]=function(_0x7d5dd0){return 0x64+_0x7d5dd0*0x5;};Formulas['getExpArray']=function(){};if(!(typeof exports===a15_0x5d17('0x23'))){module[a15_0x5d17('0x24')]=Formulas;}