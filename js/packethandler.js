var a47_0x45a6=['maxNumber','rooms','buy','tut','buy2','itemDurabilityMax','isConsumableItem','makeEmptyInventory','modifyGold','Notify','sold','itemKind','handleSaveAuctionItem','getAuctionItem','value','gold','SHOPYou\x20don\x27t\x20have\x20enough\x20Gold.','hasRoomInInventory','putInventoryItem','item','getPlayerByName','putGoldOfflineUser','gold\x20success','gold\x20fail','handleDelAuctionItem','SHOPThere\x20is\x20not\x20enough\x20space\x20in\x20your\x20inventory.','type=',',invNumber=','item=','enchantItem','equipment','repairItem','getRepairPrice','itemNumber','itemDurability','Inventory','makeEmptyEquipment','setInventoryItem','Equipment','repaired','getEnchantPrice','itemExperience','itemExpForLevel','setEquipmentItem','itemNumber=','bankitem:\x20','bank','getEmptyBankNumber','takeOutInventory','takeOutBank','BankGold','\x20open:\x20','Teleport','pets','length','isMoving','forceStop','handleEntityGroupMembership','Spawn','KindData','getBuyPrice','Store','isBuyMultiple','buycount','tutChat','Now\x20I\x20want\x20to\x20equip\x20my\x20brought\x20gear\x20by\x20going\x20into\x20Menu\x20Backpack\x20and\x20selecting\x20it.','equip','Data','goldCount=','appearances','setAppearances','AppearanceList','armorSprite','setLook','weaponSprite','UpdateLook','LoadLooks','Kinds','SHOPYou\x20don\x27t\x20have\x20enough\x20space.','input','SHOPYou\x20don\x27t\x20have\x20enough\x20resources.','output','setEquipmentBonus','craft','itemKind=','handleInventoryArmor','handleEquipmentUnequip','weapon','handleInventoryWeapon','boots','handleInventoryClothes','empty','handleInventoryEmpty','handleInventoryEat','kind','putInventory','count','skillLevel','durabilityMax','removeEntity','handleHitEntity','worldTime','index','attack','level','isInvincible','Target\x20is\x20invincible.','PlayerClass','FIGHTER','DEFENDER','withinAttackRange',',y:',',x2:',',y2:','ARCHER','isNear','Player\x20not\x20close\x20enough!','attackedTime','isOver','lastAction','now','isBlocking','duration','maxFatigue','mobController','aggroPlayer','hasAttacked','attackSkill','skillData','skillType','calcDamage','dealDamage','damage','aoe','getCharactersAround','pvpSide','crit','venom','vampire','dot','hit','group','Damage','hitPoints','maxHitPoints','round','dmg','hasFullHealth','ceil','regenHealthBy','receiveDamage','isAttackedBy','handleMobHate','weaponDamage','attack2','handleHurtEntity','self.player.pvpLevel=','pvpLevel','databaseHandler','setPvpLevel','pushBroadcast','\x20in\x20combat.','saveStat','broadcastAttacker','skills','isReady','tempXP','invincible','perLevel','accuracy','skillPassiveDefense','skillPassiveAttack','getPartyAround','health','partycrit','push','slow','multiplier=','moveCooldown','attackCooldown','daze','dazeChance','provoke','skillAoe','pickpocket','isAdjacentNonDiagonal','Cannot\x20pickpocket\x20while\x20target\x20being\x20attacked\x20or\x20target\x20too\x20far\x20away.','pickPocket','handlePickpocket','You\x20have\x20been\x20caught\x20pickpocketting.','\x20has\x20tried\x20to\x20pickpocket\x20you.','mindControl','newPetKind','Mind\x20control\x20enabled:','send','handlePetCreate','handlePetDestroy','cards','splice','deck','sort','saveCards','saveDeck','SendCards','CardBattleRequest','You\x20have\x20accepted\x20','\x27s\x20card\x20battle\x20request.','betId','createBet','minBet','packetHandler','CardBattleBet','\x20has\x20rejected\x20the\x20battle\x20request.','You\x20don\x27t\x20have\x20enough\x20Gold.','You\x20don\x27t\x20have\x20enough\x20Gold\x20for\x20minimum\x20bet.','handleCardBattleRequest','confirmedBet','isGathering','isDead','hasMoved','Gathering...',',name:\x20','install','skillHandler','add','loadSkillSlots','SkillInstall','move','Now\x20click\x20or\x20tap\x20on\x20a\x20Monster\x20to\x20attack','isValidPosition','incMoveExp','prevMap','Move2','pushNeighbours','setFreeze','parse','manhattenDistance','path','slice','MovePath','addSpawn','isAdmin','saveSpawns','party','partyInvite','Max\x20players\x20reached\x20in\x20party.','addParty','\x20joined\x20your\x20party.','\x27s\x20invite.','\x20rejected\x20your\x20invite.','leader','You\x20cannot\x20leave\x20as\x20you\x20are\x20not\x20in\x20a\x20party.','handlePartyAbandoned','\x20has\x20left\x20your\x20party.','You\x20have\x20left\x20','You\x20cannot\x20set\x20the\x20leader\x20as\x20you\x20are\x20not\x20in\x20a\x20party.','You\x20are\x20now\x20the\x20leader.','\x20is\x20now\x20leader.','\x20is\x20already\x20leader.','You\x20cannot\x20kick\x20as\x20you\x20are\x20not\x20in\x20a\x20party.','You\x20have\x20been\x20kicked\x20from\x20the\x20party.','You\x20cannot\x20kick\x20as\x20you\x20are\x20not\x20leader.','The\x20party\x20has\x20been\x20disbanded.','Party','players','removeParty','petKind=','pos.x:',',pos.y:','handlePetCreate\x20-\x20create\x20pet','PET\x20-\x20map-index:\x20','spawn','Despawn','number','itemSkillKind','itemSkillLevel','ready','Map\x20non-existant\x20or\x20not\x20ready','mapStatus','handleClearMap','addPlayer','handleSpawnMap','handleSpawnMap2','spawnsList','pushSpawns','self.server.worldTime=','Orientation','portal','petKinds','addPet','handlePlayerVanish','despawn','updateHitPoints','weaponColor','setColorTint','ColorTint','tablet','desktop','mobile','GUILDACTION','You\x20need\x2010k\x20Gold.','GUILDERRORTYPE','BADNAME','guildManager','addGuild','GuildError','ALREADYEXISTS','Guild','INVITE','self.player.getGuild().leader=','getGuild','invite','joinGuild','LEAVE','leaveGuild','TALK','pushToGuild','stats','free','strength','energy','luck','saveStats','./lib/class','./chest','./message','./utils','./formulas','./items','../shared/js/gametypes','bcrypt','./inventory','./npcplayer','express','./quests','request','./skilldata','./entityspawn','./gather','./gatherdata','./craftdata','./appearancedata','exports','player','connection','disconnectTimeout','map','listen','Messages','CREATE','LOGIN','NEWPASSWORD','PLAINLOGIN','Invalid\x20handshake\x20message:\x20','hasEnteredGame','close','Cannot\x20initiate\x20handshake\x20twice:\x20','handleNewPassword','handleCreateOrLogin','info','WHO','shift','entities','pushSpawnsToPlayer','KNOWWHO','DELIST','handleDelist','MOVE_SYNC','ZONE','zone_callback','CHAT','handleChat','handleMoveEntity','handleMovePath','ATTACK','handleAttack','HURT','handleHurt','GATHER','handleGather','handleInventory','handleSkill','SKILLINSTALL','handleSkillInstall','SKILLLOAD','handleSkillLoad','STORESELL','Player:\x20','name','STOREBUY','\x20store\x20buy:\x20','handleStoreBuy','APPEARANCEUNLOCK','handleAppearanceUnlock','handleAppearanceList','handleLookUpdate','LOADLOOKS','handleLooks','CRAFT','AUCTIONSELL','\x20auction\x20sell:\x20','handleAuctionSell','AUCTIONBUY','\x20auction\x20buy:\x20','handleAuctionBuy','AUCTIONOPEN','\x20auction\x20open:\x20','handleAuctionOpen','AUCTIONDELETE','STOREENCHANT','\x20store\x20enchant:\x20','handleStoreEnchant','STOREREPAIR','handleStoreRepair','BANKSTORE','\x20bank\x20store:\x20','handleBankStore','BANKRETRIEVE','\x20bank\x20retrieve:\x20','handleBankRetrieve','GOLD','Player\x20character\x20info:\x20','pushToPlayer','TELEPORT','TELEPORT_MAP','handleTeleportMap','OPEN','LOOTMOVE','CHECK','QUEST','handleTalkToNPC','FLAREDANCE','MAGIC','handleMagic','CLIENTFOCUS','handleClientFocus','ADDSPAWN','handleAddSpawn','SAVESPAWNS','handleSaveSpawns','PARTYINVITE','handlePartyInvite','PARTYLEAVE','handlePartyLeave','handlePartyLeader','PARTYKICK','handlePartyKick','handlePetCreateAdmin','REMOVEPET','handlePetRemoveAdmin','CLASSSWITCH','handleSendInventory','SEND_BANK','handleSendBank','PLAYER_REVIVE','handleRevive','COLOR_TINT','handleColorTint','DEVICE','PET_SWAP','CARD_BATTLE_REQUEST','handleGuild','handlePurchase','STATADD','handleStatAdd','message_callback','\x20has\x20exited\x20the\x20world.','houseUnlocked','server','maps','deleting\x20player\x20connection','removePlayer','onClose\x20-\x20called','exit_callback','onClose','sendUTF8','timeout','Player\x20was\x20idle\x20for\x20too\x20long','broadcast_callback','broadcastzone_callback','move_callback','lootmove_callback','orient_callback','sanitize','Starting\x20Client/Server\x20Handshake','substr','trim','checkName','invalidusername','Invalid\x20name\x20','loggedInPlayer','loggedin','loadPlayer','message=','message','stack=','self.player.name=','LOGIN:\x20','Already\x20logged\x20in\x20','createHash','stringify','hash','email','pClass','stack','session_id_kbve','https://kbve.com/ns/login','An\x20error\x20has\x20occured:\x20','Status\x20Code:\x20','statusCode','\x20is\x20already\x20logged\x20in.','askedQuestion','split','getTime','chatBanEndTime','pushWorld','Chat','NOTIFY','You\x20are\x20currently\x20muted.','found','foundQuest','achievement','progress','MISSION\x20complete','type','quest.npcId:\x20','npcId',',questId=',',quest.itemId=','itemId','itemCount','questAboutItem','incExp','setPosition','getEntityById','clearTarget','broadcast','LootMove','getCheckpoint','lastCheckpoint','setCheckpoint','inventory'];(function(_0xa963c3,_0x47ada3){var _0x30f95c=function(_0x598a98){while(--_0x598a98){_0xa963c3['push'](_0xa963c3['shift']());}};_0x30f95c(++_0x47ada3);}(a47_0x45a6,0x143));var a47_0x5cbe=function(_0x441e79,_0x2ab8e4){_0x441e79=_0x441e79-0x0;var _0x2b3348=a47_0x45a6[_0x441e79];return _0x2b3348;};var cls=require(a47_0x5cbe('0x0')),_=require('underscore'),Character=require('./character'),Chest=require(a47_0x5cbe('0x1')),Messages=require(a47_0x5cbe('0x2')),Utils=require(a47_0x5cbe('0x3')),MobData=require('./mobdata'),Formulas=require(a47_0x5cbe('0x4')),check=require('./format'),Party=require('./party'),Items=require(a47_0x5cbe('0x5')),Bank=require('./bank'),Types=require(a47_0x5cbe('0x6')),ItemTypes=require('../shared/js/itemtypes'),bcrypt=require(a47_0x5cbe('0x7')),Inventory=require(a47_0x5cbe('0x8')),Mob=require('./mob'),NpcPlayer=require(a47_0x5cbe('0x9')),SkillHandler=require('./skillhandler'),Trade=require('./trade'),express=require(a47_0x5cbe('0xa')),bodyParser=require('body-parser'),app=express(),Quests=require(a47_0x5cbe('0xb')),request=require(a47_0x5cbe('0xc')),SkillData=require(a47_0x5cbe('0xd')),EntitySpawn=require(a47_0x5cbe('0xe')),Gather=require(a47_0x5cbe('0xf')),GatherData=require(a47_0x5cbe('0x10')),CraftData=require(a47_0x5cbe('0x11')),PvpBase=require('./pvpbase'),ApppearanceData=require(a47_0x5cbe('0x12'));module[a47_0x5cbe('0x13')]=PacketHandler=Class['extend']({'init':function(_0x5b3eeb,_0xad50f2,_0x48e7d8,_0x3854b3,_0x330db7){this[a47_0x5cbe('0x14')]=_0x5b3eeb;this['server']=_0x48e7d8;this[a47_0x5cbe('0x15')]=_0xad50f2;this['databaseHandler']=_0x3854b3;this[a47_0x5cbe('0x16')]=null;this[a47_0x5cbe('0x17')]=_0x330db7;var _0x4c7cc5=this;this['connection'][a47_0x5cbe('0x18')](function(_0x390028){var _0x2bc3f6=parseInt(_0x390028[0x0]);if(!_0x4c7cc5[a47_0x5cbe('0x14')]['hasEnteredGame']&&_0x2bc3f6!==Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x1a')]&&_0x2bc3f6!==Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x1b')]&&_0x2bc3f6!==Types['Messages'][a47_0x5cbe('0x1c')]&&_0x2bc3f6!==Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x1d')]){_0x4c7cc5['connection']['close'](a47_0x5cbe('0x1e')+_0x390028);return;}if(_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f')]&&(_0x2bc3f6===Types[a47_0x5cbe('0x19')]['CREATE']||_0x2bc3f6===Types[a47_0x5cbe('0x19')]['LOGIN'])){_0x4c7cc5[a47_0x5cbe('0x15')][a47_0x5cbe('0x20')](a47_0x5cbe('0x21')+_0x390028);return;}if(_0x2bc3f6==Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x1c')]){_0x4c7cc5[a47_0x5cbe('0x22')](_0x390028);return;}if(_0x2bc3f6==Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x1d')]){_0x4c7cc5['handlePlainLogin'](_0x390028);return;}else if(_0x2bc3f6===Types['Messages'][a47_0x5cbe('0x1a')]||_0x2bc3f6===Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x1b')]){_0x4c7cc5[a47_0x5cbe('0x23')](_0x390028);return;}if(_0x4c7cc5[a47_0x5cbe('0x14')]&&!_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f')]){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x21')+_0x390028);_0x4c7cc5[a47_0x5cbe('0x15')][a47_0x5cbe('0x20')]('Cannot\x20initiate\x20handshake\x20twice:\x20'+_0x390028);return;}switch(_0x2bc3f6){case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x25')]:_0x390028[a47_0x5cbe('0x26')]();_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x28')](_0x4c7cc5[a47_0x5cbe('0x14')],_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x29')]:_0x390028[a47_0x5cbe('0x26')]();_0x4c7cc5['handleKnowWho'](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x2a')]:_0x390028['shift']();_0x4c7cc5[a47_0x5cbe('0x2b')](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x2c')]:_0x390028[a47_0x5cbe('0x26')]();break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x2d')]:_0x4c7cc5[a47_0x5cbe('0x2e')](_0x4c7cc5[a47_0x5cbe('0x14')],_0x4c7cc5['player']['map']);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x2f')]:_0x4c7cc5[a47_0x5cbe('0x30')](_0x390028);break;case Types[a47_0x5cbe('0x19')]['MOVEENTITY']:_0x390028[a47_0x5cbe('0x26')]();_0x4c7cc5[a47_0x5cbe('0x31')](_0x390028);break;case Types[a47_0x5cbe('0x19')]['MOVEPATH']:_0x390028[a47_0x5cbe('0x26')]();_0x4c7cc5[a47_0x5cbe('0x32')](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x33')]:_0x4c7cc5[a47_0x5cbe('0x34')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x35')]:_0x4c7cc5[a47_0x5cbe('0x36')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x37')]:log[a47_0x5cbe('0x24')](a47_0x5cbe('0x37'));_0x4c7cc5[a47_0x5cbe('0x38')](_0x390028);break;case Types[a47_0x5cbe('0x19')]['INVENTORY']:_0x4c7cc5[a47_0x5cbe('0x39')](_0x390028);break;case Types[a47_0x5cbe('0x19')]['SKILL']:_0x4c7cc5[a47_0x5cbe('0x3a')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x3b')]:_0x4c7cc5[a47_0x5cbe('0x3c')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x3d')]:_0x4c7cc5[a47_0x5cbe('0x3e')]();break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x3f')]:log['info'](a47_0x5cbe('0x40')+_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+'\x20store\x20sell:\x20'+_0x390028[0x1]);_0x4c7cc5['handleStoreSell'](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x42')]:log['info'](a47_0x5cbe('0x40')+_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x43')+_0x390028[0x1]+'\x20'+_0x390028[0x2]+'\x20'+_0x390028[0x3]);_0x4c7cc5[a47_0x5cbe('0x44')](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x45')]:_0x4c7cc5[a47_0x5cbe('0x46')](_0x390028);break;case Types['Messages']['APPEARANCELIST']:_0x4c7cc5[a47_0x5cbe('0x47')]();break;case Types['Messages']['LOOKUPDATE']:_0x4c7cc5[a47_0x5cbe('0x48')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x49')]:_0x4c7cc5[a47_0x5cbe('0x4a')]();break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x4b')]:_0x4c7cc5['handleCraft'](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x4c')]:log[a47_0x5cbe('0x24')](a47_0x5cbe('0x40')+_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x4d')+_0x390028[0x1]);_0x4c7cc5[a47_0x5cbe('0x4e')](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x4f')]:log[a47_0x5cbe('0x24')](a47_0x5cbe('0x40')+_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x50')+_0x390028[0x1]);_0x4c7cc5[a47_0x5cbe('0x51')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x52')]:log[a47_0x5cbe('0x24')](a47_0x5cbe('0x40')+_0x4c7cc5['player'][a47_0x5cbe('0x41')]+a47_0x5cbe('0x53')+_0x390028[0x1]);_0x4c7cc5[a47_0x5cbe('0x54')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x55')]:log['info']('Player:\x20'+_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+'\x20auction\x20delete:\x20'+_0x390028[0x1]);_0x4c7cc5['handleAuctionDelete'](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x56')]:log[a47_0x5cbe('0x24')]('Player:\x20'+_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x57')+_0x390028[0x1]);_0x4c7cc5[a47_0x5cbe('0x58')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x59')]:log[a47_0x5cbe('0x24')](a47_0x5cbe('0x40')+_0x4c7cc5['player'][a47_0x5cbe('0x41')]+'\x20store\x20repair:\x20'+_0x390028[0x1]);_0x4c7cc5[a47_0x5cbe('0x5a')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x5b')]:log[a47_0x5cbe('0x24')]('Player:\x20'+_0x4c7cc5['player'][a47_0x5cbe('0x41')]+a47_0x5cbe('0x5c')+_0x390028[0x1]);_0x4c7cc5[a47_0x5cbe('0x5d')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x5e')]:log[a47_0x5cbe('0x24')]('Player:\x20'+_0x4c7cc5[a47_0x5cbe('0x14')]['name']+a47_0x5cbe('0x5f')+_0x390028[0x1]);_0x4c7cc5[a47_0x5cbe('0x60')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x61')]:_0x4c7cc5['handleGold'](_0x390028);break;case Types[a47_0x5cbe('0x19')]['CHARACTERINFO']:log[a47_0x5cbe('0x24')](a47_0x5cbe('0x62')+_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]);_0x4c7cc5['player']['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x4c7cc5[a47_0x5cbe('0x14')],new Messages['CharacterInfo'](_0x4c7cc5[a47_0x5cbe('0x14')]));break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x64')]:_0x4c7cc5['handleTeleport'](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x65')]:_0x4c7cc5[a47_0x5cbe('0x66')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x67')]:_0x4c7cc5['handleOpen'](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x68')]:_0x4c7cc5['handleLootMove'](_0x390028);break;case Types['Messages']['LOOT']:_0x4c7cc5['handleLoot'](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x69')]:_0x4c7cc5['handleCheckpoint'](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x6a')]:_0x4c7cc5['handleQuest'](_0x390028);break;case Types[a47_0x5cbe('0x19')]['TALKTONPC']:_0x4c7cc5[a47_0x5cbe('0x6b')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x6c')]:_0x4c7cc5['handleFlareDance'](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x6d')]:_0x4c7cc5[a47_0x5cbe('0x6e')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x6f')]:_0x4c7cc5[a47_0x5cbe('0x70')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x71')]:_0x4c7cc5[a47_0x5cbe('0x72')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x73')]:_0x4c7cc5[a47_0x5cbe('0x74')]();break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x75')]:_0x4c7cc5[a47_0x5cbe('0x76')](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x77')]:_0x4c7cc5[a47_0x5cbe('0x78')](_0x390028);break;case Types[a47_0x5cbe('0x19')]['PARTYLEADER']:_0x4c7cc5[a47_0x5cbe('0x79')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x7a')]:_0x4c7cc5[a47_0x5cbe('0x7b')](_0x390028);break;case Types[a47_0x5cbe('0x19')]['PETCREATE']:_0x4c7cc5[a47_0x5cbe('0x7c')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x7d')]:_0x4c7cc5[a47_0x5cbe('0x7e')](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x7f')]:_0x4c7cc5['handleClassSwitch'](_0x390028);break;case Types[a47_0x5cbe('0x19')]['SEND_INVENTORY']:_0x4c7cc5[a47_0x5cbe('0x80')](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x81')]:_0x4c7cc5[a47_0x5cbe('0x82')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x83')]:_0x4c7cc5[a47_0x5cbe('0x84')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x85')]:_0x4c7cc5[a47_0x5cbe('0x86')](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x87')]:_0x4c7cc5['handleDevice'](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x88')]:_0x4c7cc5['handlePetSwap'](_0x390028);break;case Types[a47_0x5cbe('0x19')]['CARD_SWAP']:_0x4c7cc5['handleCardSwap'](_0x390028);break;case Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x89')]:_0x4c7cc5['handleCardBattleRequest'](_0x390028);break;case Types['Messages']['GUILD']:_0x4c7cc5[a47_0x5cbe('0x8a')](_0x390028);break;case Types[a47_0x5cbe('0x19')]['PURCHASE']:_0x4c7cc5[a47_0x5cbe('0x8b')](_0x390028);break;case Types['Messages'][a47_0x5cbe('0x8c')]:_0x4c7cc5[a47_0x5cbe('0x8d')](_0x390028);break;default:if(_0x4c7cc5[a47_0x5cbe('0x8e')])_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x8e')](_0x390028);break;}});this[a47_0x5cbe('0x15')]['onClose'](function(){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x40')+_0x4c7cc5['player'][a47_0x5cbe('0x41')]+a47_0x5cbe('0x8f'));if(this[a47_0x5cbe('0x14')]&&this[a47_0x5cbe('0x14')][a47_0x5cbe('0x90')])delete this[a47_0x5cbe('0x91')][a47_0x5cbe('0x92')][this[a47_0x5cbe('0x14')]['id']];if(_0x4c7cc5['player']&&_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x93'));_0x4c7cc5[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x94')](_0x4c7cc5[a47_0x5cbe('0x14')]);}log[a47_0x5cbe('0x24')](a47_0x5cbe('0x95'));clearTimeout(this[a47_0x5cbe('0x16')]);if(this[a47_0x5cbe('0x96')]){this[a47_0x5cbe('0x96')]();}this[a47_0x5cbe('0x20')](a47_0x5cbe('0x97'));});},'timeout':function(){this[a47_0x5cbe('0x15')][a47_0x5cbe('0x98')](a47_0x5cbe('0x99'));this['connection'][a47_0x5cbe('0x20')](a47_0x5cbe('0x9a'));},'broadcast':function(_0x20c521,_0x4dceae){if(this[a47_0x5cbe('0x9b')]){this[a47_0x5cbe('0x9b')](_0x20c521,_0x4dceae===undefined?!![]:_0x4dceae);}},'broadcastToZone':function(_0x3e33e6,_0x414d9d){if(this['broadcastzone_callback']){this[a47_0x5cbe('0x9c')](_0x3e33e6,_0x414d9d===undefined?!![]:_0x414d9d);}},'onExit':function(_0x164c5d){this['exit_callback']=_0x164c5d;},'onMove':function(_0x3a513d){this[a47_0x5cbe('0x9d')]=_0x3a513d;},'onLootMove':function(_0x2a79dc){this[a47_0x5cbe('0x9e')]=_0x2a79dc;},'onZone':function(_0x509242){this['zone_callback']=_0x509242;},'onOrient':function(_0x18c071){this[a47_0x5cbe('0x9f')]=_0x18c071;},'onMessage':function(_0x22d302){this[a47_0x5cbe('0x8e')]=_0x22d302;},'onBroadcast':function(_0x3f6594){this[a47_0x5cbe('0x9b')]=_0x3f6594;},'onBroadcastToZone':function(_0x3f544c){this[a47_0x5cbe('0x9c')]=_0x3f544c;},'handleAuctionLogin':function(_0x56eda9){var _0x498678=_0x56eda9[0x0];var _0x287b4f=Utils[a47_0x5cbe('0xa0')](_0x56eda9[0x1]);var _0x3e9063=Utils[a47_0x5cbe('0xa0')](_0x56eda9[0x2]);var _0x5b106a=this;log[a47_0x5cbe('0x24')](a47_0x5cbe('0xa1'));_0x5b106a['player'][a47_0x5cbe('0x41')]=_0x287b4f[a47_0x5cbe('0xa2')](0x0,0x24)[a47_0x5cbe('0xa3')]();try{if(!_0x5b106a[a47_0x5cbe('0x14')][a47_0x5cbe('0xa4')](_0x5b106a[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')])){_0x5b106a[a47_0x5cbe('0x15')][a47_0x5cbe('0x98')](a47_0x5cbe('0xa5'));_0x5b106a[a47_0x5cbe('0x15')][a47_0x5cbe('0x20')](a47_0x5cbe('0xa6')+_0x5b106a[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]);return;}_0x5b106a[a47_0x5cbe('0x14')]['pw']=_0x3e9063['substr'](0x0,0x2d);log['info']('LOGIN:\x20'+_0x5b106a[a47_0x5cbe('0x14')]['name']);if(_0x5b106a[a47_0x5cbe('0x91')][a47_0x5cbe('0xa7')](_0x5b106a[a47_0x5cbe('0x14')]['name'])){_0x5b106a['connection'][a47_0x5cbe('0x98')](a47_0x5cbe('0xa8'));_0x5b106a['connection'][a47_0x5cbe('0x20')]('Already\x20logged\x20in\x20'+_0x5b106a['player'][a47_0x5cbe('0x41')]);return;}databaseHandler[a47_0x5cbe('0xa9')](_0x5b106a[a47_0x5cbe('0x14')]);}catch(_0x4dc4b9){log[a47_0x5cbe('0x24')](a47_0x5cbe('0xaa')+_0x4dc4b9[a47_0x5cbe('0xab')]);log[a47_0x5cbe('0x24')](a47_0x5cbe('0xac')+_0x4dc4b9['stack']);}},'handlePlainLogin':function(_0x1ed108){var _0x5c3529=_0x1ed108[0x0];var _0x1c12ff=Utils[a47_0x5cbe('0xa0')](_0x1ed108[0x1]);var _0x39c86f=Utils[a47_0x5cbe('0xa0')](_0x1ed108[0x2]);var _0x38290e=this;log[a47_0x5cbe('0x24')](a47_0x5cbe('0xa1'));_0x38290e[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]=_0x1c12ff['substr'](0x0,0x24)[a47_0x5cbe('0xa3')]();log[a47_0x5cbe('0x24')](a47_0x5cbe('0xad')+_0x38290e['player'][a47_0x5cbe('0x41')]);try{if(!_0x38290e[a47_0x5cbe('0x14')][a47_0x5cbe('0xa4')](_0x38290e[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')])){_0x38290e['connection'][a47_0x5cbe('0x98')](a47_0x5cbe('0xa5'));_0x38290e['connection']['close'](a47_0x5cbe('0xa6')+_0x38290e['player'][a47_0x5cbe('0x41')]);return;}_0x38290e['player']['pw']=_0x39c86f[a47_0x5cbe('0xa2')](0x0,0x2d);log[a47_0x5cbe('0x24')](a47_0x5cbe('0xae')+_0x38290e[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]);if(_0x38290e['server'][a47_0x5cbe('0xa7')](_0x38290e[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')])){_0x38290e['connection'][a47_0x5cbe('0x98')](a47_0x5cbe('0xa8'));_0x38290e[a47_0x5cbe('0x15')]['close'](a47_0x5cbe('0xaf')+_0x38290e['player'][a47_0x5cbe('0x41')]);return;}databaseHandler[a47_0x5cbe('0xb0')](_0x38290e[a47_0x5cbe('0x14')],function(){databaseHandler['loadPlayer'](_0x38290e[a47_0x5cbe('0x14')]);});}catch(_0xc53648){log[a47_0x5cbe('0x24')](a47_0x5cbe('0xaa')+_0xc53648[a47_0x5cbe('0xab')]);log[a47_0x5cbe('0x24')]('stack='+_0xc53648['stack']);}},'handleCreateOrLogin':function(_0x44c36d){log[a47_0x5cbe('0x24')](JSON[a47_0x5cbe('0xb1')](_0x44c36d));var _0x5f409d=_0x44c36d[0x0];var _0x3883de=Utils[a47_0x5cbe('0xa0')](_0x44c36d[0x1]);var _0x2a058b=Utils[a47_0x5cbe('0xa0')](_0x44c36d[0x2]);var _0x272837=Utils['sanitize'](_0x44c36d[0x4]);var _0x148568=this;log['info'](a47_0x5cbe('0xa1'));_0x148568[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]=_0x3883de[a47_0x5cbe('0xa2')](0x0,0x24)[a47_0x5cbe('0xa3')]();log[a47_0x5cbe('0x24')](a47_0x5cbe('0xad')+_0x148568[a47_0x5cbe('0x14')]['name']);try{if(!_0x148568[a47_0x5cbe('0x14')][a47_0x5cbe('0xa4')](_0x148568[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')])){_0x148568[a47_0x5cbe('0x15')]['sendUTF8'](a47_0x5cbe('0xa5'));_0x148568[a47_0x5cbe('0x15')][a47_0x5cbe('0x20')](a47_0x5cbe('0xa6')+_0x148568[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]);return;}_0x148568[a47_0x5cbe('0x14')][a47_0x5cbe('0xb2')]=_0x2a058b;if(_0x5f409d==Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x1a')]){_0x148568[a47_0x5cbe('0x14')][a47_0x5cbe('0xb3')]=Utils[a47_0x5cbe('0xa0')](_0x44c36d[0x3]);_0x148568[a47_0x5cbe('0x14')][a47_0x5cbe('0xb4')]=_0x272837;databaseHandler['createPlayer'](_0x148568[a47_0x5cbe('0x14')]);}else{log['info']('LOGIN:\x20'+_0x148568[a47_0x5cbe('0x14')]['name']);if(_0x148568[a47_0x5cbe('0x91')][a47_0x5cbe('0xa7')](_0x148568['player'][a47_0x5cbe('0x41')])){_0x148568['connection'][a47_0x5cbe('0x98')]('loggedin');_0x148568[a47_0x5cbe('0x15')][a47_0x5cbe('0x20')](a47_0x5cbe('0xaf')+_0x148568[a47_0x5cbe('0x14')]['name']);return;}databaseHandler[a47_0x5cbe('0xa9')](_0x148568[a47_0x5cbe('0x14')]);}}catch(_0x2938dc){log[a47_0x5cbe('0x24')](a47_0x5cbe('0xaa')+_0x2938dc[a47_0x5cbe('0xab')]);log['info']('stack='+_0x2938dc[a47_0x5cbe('0xb5')]);}},'handleNewPassword':function(_0x1de469){},'handleAPIRegistration':function(_0x2ab35e){},'handleAPILogin':function(_0x1b772a){self[a47_0x5cbe('0x14')]['name']=Utils[a47_0x5cbe('0xa0')](_0x1b772a[0x1])[a47_0x5cbe('0xa2')](0x0,0x24)['trim']();self[a47_0x5cbe('0x14')]['pw']=Utils[a47_0x5cbe('0xa0')](_0x1b772a[0x2])[a47_0x5cbe('0xa2')](0x0,0x2d);self[a47_0x5cbe('0x14')][a47_0x5cbe('0xb6')]=_0x1b772a[0x3];request({'url':a47_0x5cbe('0xb7'),'qs':{'from':'tta','time':new Date()},'method':'POST','form':{'username':self[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')],'password':self['player']['pw']}},function(_0x51d1a8,_0x4eebab,_0x328ee7){if(_0x51d1a8)log[a47_0x5cbe('0x24')](a47_0x5cbe('0xb8')+_0x51d1a8);else{console['log'](a47_0x5cbe('0xb9')+_0x4eebab[a47_0x5cbe('0xba')]+'.\x20Body:\x20'+_0x328ee7);}});if(self[a47_0x5cbe('0x91')][a47_0x5cbe('0xa7')](self[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')])){self[a47_0x5cbe('0x15')][a47_0x5cbe('0x98')](a47_0x5cbe('0xa8'));self['connection']['close'](a47_0x5cbe('0x40')+self[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0xbb'));return;}},'handleChat':function(_0x43e6cc){var _0x4573d2=this;var _0x4f1c18=Utils[a47_0x5cbe('0xa0')](_0x43e6cc[0x1]);log['info']('Chat:\x20'+_0x4573d2[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+':\x20'+_0x4f1c18);if(this[a47_0x5cbe('0x14')][a47_0x5cbe('0xbc')]){this[a47_0x5cbe('0x14')]['answerQuestion'](_0x4f1c18);return;}if(_0x4f1c18&&(_0x4f1c18!==''||_0x4f1c18!=='\x20')){_0x4f1c18=_0x4f1c18['substr'](0x0,0x100);var _0x53956c=_0x4f1c18[a47_0x5cbe('0xbd')]('\x20',0x3);switch(_0x53956c[0x0]){case'/w':if(new Date()[a47_0x5cbe('0xbe')]()>_0x4573d2[a47_0x5cbe('0x14')][a47_0x5cbe('0xbf')]){_0x4573d2[a47_0x5cbe('0x91')][a47_0x5cbe('0xc0')](new Messages[(a47_0x5cbe('0xc1'))](_0x4573d2[a47_0x5cbe('0x14')],_0x4f1c18));}else _0x4573d2['send']([Types[a47_0x5cbe('0x19')][a47_0x5cbe('0xc2')],'You\x20are\x20currently\x20muted.']);break;default:if(new Date()[a47_0x5cbe('0xbe')]()>_0x4573d2[a47_0x5cbe('0x14')][a47_0x5cbe('0xbf')]){_0x4573d2['server'][a47_0x5cbe('0xc0')](new Messages['Chat'](_0x4573d2[a47_0x5cbe('0x14')],_0x4f1c18));}else _0x4573d2['send']([Types['Messages'][a47_0x5cbe('0xc2')],a47_0x5cbe('0xc3')]);break;}}},'handleTalkToNPC':function(_0x15555a){var _0x5b57ab=this;var _0x4633f7=_0x15555a[0x1];var _0x9cef97=_0x15555a[0x2];log[a47_0x5cbe('0x24')]('npcKind='+_0x4633f7+',questId='+_0x9cef97);if(!this[a47_0x5cbe('0x14')]['achievement'][_0x9cef97]||!this[a47_0x5cbe('0x14')]['achievement'][_0x9cef97][a47_0x5cbe('0xc4')]){log[a47_0x5cbe('0x24')]('FOUND\x20MISSION');this[a47_0x5cbe('0x14')][a47_0x5cbe('0xc5')](_0x9cef97);return;}if(this[a47_0x5cbe('0x14')][a47_0x5cbe('0xc6')][_0x9cef97][a47_0x5cbe('0xc7')]===0x3e7){log[a47_0x5cbe('0x24')](a47_0x5cbe('0xc8'));this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['TalkToNPC'](_0x4633f7,_0x9cef97,!![]));return;}var _0x70f44=Quests['QuestData'][_0x9cef97];if(_0x70f44[a47_0x5cbe('0xc9')]==0x1){log[a47_0x5cbe('0x24')](a47_0x5cbe('0xca')+_0x70f44[a47_0x5cbe('0xcb')]+a47_0x5cbe('0xcc')+_0x9cef97+a47_0x5cbe('0xcd')+_0x70f44[a47_0x5cbe('0xce')]+',quest.itemCount='+_0x70f44[a47_0x5cbe('0xcf')]);this['player'][a47_0x5cbe('0xd0')](_0x70f44[a47_0x5cbe('0xcb')],_0x9cef97,_0x70f44[a47_0x5cbe('0xce')],_0x70f44[a47_0x5cbe('0xcf')]);if(_0x70f44['xp']){_0x5b57ab[a47_0x5cbe('0x14')][a47_0x5cbe('0xd1')](_0x70f44['xp']);}}},'handleLootMove':function(_0x18df0d){if(this[a47_0x5cbe('0x9e')]){this[a47_0x5cbe('0x14')][a47_0x5cbe('0xd2')](_0x18df0d[0x1],_0x18df0d[0x2]);var _0x39fe3e=this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x18df0d[0x3]);if(_0x39fe3e){this[a47_0x5cbe('0x14')][a47_0x5cbe('0xd4')]();this[a47_0x5cbe('0xd5')](new Messages[(a47_0x5cbe('0xd6'))](this['player'],_0x39fe3e));this[a47_0x5cbe('0x9e')](this['player']['x'],this[a47_0x5cbe('0x14')]['y']);}}},'handleCheckpoint':function(_0x185e1e){var _0x105f89=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0xd7')](_0x185e1e[0x1]);if(_0x105f89){this[a47_0x5cbe('0x14')][a47_0x5cbe('0xd8')]=_0x105f89;databaseHandler[a47_0x5cbe('0xd9')](this[a47_0x5cbe('0x14')]['name'],this[a47_0x5cbe('0x14')]['x'],this[a47_0x5cbe('0x14')]['y']);}},'handleStoreSell':function(_0x2e1938){var _0x297e1a=_0x2e1938[0x1],_0x22edae=0x0,_0x4182fb=-0x1;if(_0x297e1a>=0x0&&_0x297e1a<this['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xdb')]){if(!this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0x297e1a])return;this['player']['tut'][a47_0x5cbe('0xdd')]=!![];this[a47_0x5cbe('0x14')][a47_0x5cbe('0xde')][a47_0x5cbe('0xdf')]=!![];var _0x25827f=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0x297e1a]['itemKind'];var _0x1efe18=this['player'][a47_0x5cbe('0xda')]['rooms'][_0x297e1a][a47_0x5cbe('0xe0')];var _0x5bd569=this['player'][a47_0x5cbe('0xda')]['rooms'][_0x297e1a]['itemNumber'];var _0x5174c7=this['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0x297e1a]['itemExperience'];if(_0x25827f&&!ItemTypes[a47_0x5cbe('0xe1')](_0x25827f)){_0x22edae=ItemTypes['getEnchantSellPrice'](_0x25827f,_0x5bd569,_0x1efe18,_0x5174c7);_0x4182fb=this[a47_0x5cbe('0x14')]['inventory']['gold'];if(_0x4182fb<0x0){_0x4182fb=this['player'][a47_0x5cbe('0xda')]['getEmptyInventoryNumber']();}this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xe2')](_0x297e1a);this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xe3')](_0x22edae);this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0xe5')));}}},'handleAuctionSell':function(_0x29f664){var _0x1bffa3=_0x29f664[0x1],_0x4aee7b=_0x29f664[0x2];if(_0x1bffa3>=0x0&&_0x1bffa3<this['player'][a47_0x5cbe('0xda')]['maxNumber']){item=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0x1bffa3];log['info'](JSON['stringify'](item));if(item[a47_0x5cbe('0xe6')]&&!ItemTypes[a47_0x5cbe('0xe1')](item[a47_0x5cbe('0xe6')])){databaseHandler[a47_0x5cbe('0xe7')](this[a47_0x5cbe('0x14')],item,_0x4aee7b,_0x1bffa3);}}},'handleAuctionOpen':function(_0x3b3a6d){var _0x100fc7=_0x3b3a6d[0x1];databaseHandler['loadAuctionItems'](this[a47_0x5cbe('0x14')],_0x100fc7);},'handleAuctionBuy':function(_0x20438f){var _0x1b54e0=_0x20438f[0x1];var _0x42b2be=_0x20438f[0x2]||0x0;var _0x6a705d=this;databaseHandler[a47_0x5cbe('0xe8')](_0x1b54e0,function(_0x5d416c){var _0x4e10d8=_0x5d416c[a47_0x5cbe('0xe9')];if(_0x4e10d8>0x0){var _0x3ddb2f=_0x6a705d['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xea')];if(_0x3ddb2f<_0x4e10d8){_0x6a705d[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x6a705d['player'],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0xeb')));return;}if(_0x6a705d[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xec')]()){_0x6a705d[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xed')](_0x5d416c[a47_0x5cbe('0xee')]);_0x6a705d['player'][a47_0x5cbe('0xda')]['modifyGold'](-_0x4e10d8);_0x6a705d[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](_0x6a705d[a47_0x5cbe('0x14')],new Messages['Notify'](a47_0x5cbe('0xdd')));var _0x422617=_0x6a705d[a47_0x5cbe('0x91')][a47_0x5cbe('0xef')](_0x5d416c[a47_0x5cbe('0x14')]);if(_0x422617)_0x422617['inventory'][a47_0x5cbe('0xe3')](_0x4e10d8);else databaseHandler[a47_0x5cbe('0xf0')](_0x5d416c[a47_0x5cbe('0x14')],_0x4e10d8,function(){log[a47_0x5cbe('0x24')](a47_0x5cbe('0xf1'));},function(){log['info'](a47_0x5cbe('0xf2'));});databaseHandler[a47_0x5cbe('0xf3')](_0x1b54e0);_0x6a705d[a47_0x5cbe('0x54')]([null,_0x42b2be]);}else{_0x6a705d[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](_0x6a705d[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0xf4')));}}});},'handleAuctionDelete':function(_0x49b2b5){var _0x3cdcf3=_0x49b2b5[0x1];var _0x26d785=_0x49b2b5[0x2]||0x0;var _0x240ede=this;databaseHandler[a47_0x5cbe('0xe8')](_0x3cdcf3,function(_0x1f61f0){if(_0x240ede[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xec')]()){_0x240ede[a47_0x5cbe('0x14')]['inventory']['putInventoryItem'](_0x1f61f0['item']);_0x240ede[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x240ede['player'],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0xdd')));databaseHandler['handleDelAuctionItem'](_0x3cdcf3);_0x240ede[a47_0x5cbe('0x54')]([null,_0x26d785]);}else{_0x240ede['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x240ede[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0xf4')));}});},'handleStoreEnchant':function(_0x2e3666){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x58'));var _0x5d5fcc=_0x2e3666[0x1],_0xdf9997=_0x2e3666[0x2];log['info'](a47_0x5cbe('0xf5')+_0x5d5fcc+a47_0x5cbe('0xf6')+_0xdf9997);if(_0x5d5fcc==0x1&&_0xdf9997>=0x6&&_0xdf9997<this[a47_0x5cbe('0x14')]['inventory'][a47_0x5cbe('0xdb')]){var _0xc73f46=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0xdf9997];log[a47_0x5cbe('0x24')](a47_0x5cbe('0xf7')+JSON['stringify'](_0xc73f46));this[a47_0x5cbe('0xf8')](_0x5d5fcc,_0xc73f46,_0xdf9997);}if(_0x5d5fcc==0x2&&_0xdf9997>=0x0&&_0xdf9997<0x4){var _0xc73f46=this['player'][a47_0x5cbe('0xf9')][a47_0x5cbe('0xdc')][_0xdf9997];if(_0xc73f46){log[a47_0x5cbe('0x24')](a47_0x5cbe('0xf7')+JSON[a47_0x5cbe('0xb1')](_0xc73f46));this[a47_0x5cbe('0xf8')](_0x5d5fcc,_0xc73f46,_0xdf9997);}}},'handleStoreRepair':function(_0x1ac08b){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x5a'));var _0x454b6d=_0x1ac08b[0x1],_0x13155a=_0x1ac08b[0x2];log['info'](a47_0x5cbe('0xf5')+_0x454b6d+',invNumber='+_0x13155a);if(_0x454b6d==0x1&&_0x13155a>=0x6&&_0x13155a<this[a47_0x5cbe('0x14')]['inventory'][a47_0x5cbe('0xdb')]){var _0x827de1=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0x13155a];log[a47_0x5cbe('0x24')](a47_0x5cbe('0xf7')+JSON[a47_0x5cbe('0xb1')](_0x827de1));this[a47_0x5cbe('0xfa')](_0x454b6d,_0x827de1,_0x13155a);}if(_0x454b6d==0x2&&_0x13155a>=0x0&&_0x13155a<this['player']['equipment'][a47_0x5cbe('0xdb')]){var _0x827de1=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xf9')][a47_0x5cbe('0xdc')][_0x13155a];if(_0x827de1){log[a47_0x5cbe('0x24')]('item='+JSON['stringify'](_0x827de1));this[a47_0x5cbe('0xfa')](_0x454b6d,_0x827de1,_0x13155a);}}},'repairItem':function(_0x5cdd56,_0x4e3604,_0x217b72){var _0x22ab51=null,_0x48bf25=0x0;if(_0x4e3604&&_0x4e3604[a47_0x5cbe('0xe6')]){if(_0x4e3604['itemDurability']==_0x4e3604['itemDurabilityMax'])return;_0x48bf25=~~ItemTypes[a47_0x5cbe('0xfb')](_0x4e3604[a47_0x5cbe('0xe6')],_0x4e3604[a47_0x5cbe('0xfc')],_0x4e3604[a47_0x5cbe('0xfd')],_0x4e3604['itemDurabilityMax']);goldCount=this['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xea')];if(goldCount<_0x48bf25){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0xeb')));return;}var _0x542a37=~~((_0x4e3604[a47_0x5cbe('0xe0')]-_0x4e3604[a47_0x5cbe('0xfd')])/0xa);_0x4e3604[a47_0x5cbe('0xe0')]-=_0x542a37;_0x4e3604[a47_0x5cbe('0xfd')]=_0x4e3604[a47_0x5cbe('0xe0')];if(_0x4e3604[a47_0x5cbe('0xe0')]<=0x0){_0x4e3604=null;if(_0x5cdd56==0x1){this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xe2')](_0x217b72);this[a47_0x5cbe('0x14')]['map']['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xfe'))](_0x217b72,_0x4e3604));}else if(_0x5cdd56==0x2){this[a47_0x5cbe('0x14')][a47_0x5cbe('0xf9')][a47_0x5cbe('0xff')](_0x217b72);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Equipment'](_0x217b72,_0x4e3604));}}else{if(_0x5cdd56==0x1){databaseHandler[a47_0x5cbe('0x100')](this[a47_0x5cbe('0x14')],_0x217b72,_0x4e3604);this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xfe'))](_0x217b72,_0x4e3604));}if(_0x5cdd56==0x2){databaseHandler['setEquipmentItem'](this[a47_0x5cbe('0x14')],_0x217b72,_0x4e3604);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this['player'],new Messages[(a47_0x5cbe('0x101'))](_0x217b72,_0x4e3604));}log['info']('itemNumber='+_0x4e3604[a47_0x5cbe('0xfc')]);this['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xe3')](-_0x48bf25);}this['player']['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this['player'],new Messages['Notify'](a47_0x5cbe('0x102')));}},'enchantItem':function(_0x5aa429,_0x28b9fe,_0x24951a){var _0x467fe5=null,_0x23b984=0x0;if(_0x28b9fe&&_0x28b9fe[a47_0x5cbe('0xe6')]){_0x23b984=ItemTypes[a47_0x5cbe('0x103')](_0x28b9fe[a47_0x5cbe('0xe6')],_0x28b9fe[a47_0x5cbe('0xfc')],_0x28b9fe[a47_0x5cbe('0x104')]);goldCount=this['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xea')];if(goldCount<_0x23b984){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Notify'](a47_0x5cbe('0xeb')));return;}_0x28b9fe[a47_0x5cbe('0x104')]=ItemTypes[a47_0x5cbe('0x105')][_0x28b9fe[a47_0x5cbe('0xfc')]-0x1];_0x28b9fe[a47_0x5cbe('0xfc')]++;if(_0x5aa429==0x1){databaseHandler['setInventoryItem'](this[a47_0x5cbe('0x14')],_0x24951a,_0x28b9fe);this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Inventory'](_0x24951a,_0x28b9fe));}if(_0x5aa429==0x2){databaseHandler[a47_0x5cbe('0x106')](this['player'],_0x24951a,_0x28b9fe);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x101'))](_0x24951a,_0x28b9fe));}log['info'](a47_0x5cbe('0x107')+_0x28b9fe['itemNumber']);this[a47_0x5cbe('0x14')]['inventory']['modifyGold'](-_0x23b984);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Notify']('enchanted'));}},'handleBankStore':function(_0x2c4dcd){var _0x30168d=_0x2c4dcd[0x1];if(_0x30168d>=0x6&&_0x30168d<this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xdb')]){var _0x1e838c=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0x30168d];log[a47_0x5cbe('0x24')](a47_0x5cbe('0x108')+JSON[a47_0x5cbe('0xb1')](_0x1e838c));if(_0x1e838c&&_0x1e838c[a47_0x5cbe('0xe6')]){var _0x522b8c=this['player'][a47_0x5cbe('0x109')][a47_0x5cbe('0x10a')]();log[a47_0x5cbe('0x24')]('slot='+_0x522b8c);if(_0x522b8c>=0x0){this[a47_0x5cbe('0x14')]['bank']['putBankItem'](_0x1e838c);this[a47_0x5cbe('0x14')]['inventory'][a47_0x5cbe('0x10b')](_0x30168d,_0x1e838c[a47_0x5cbe('0xfc')]);}}}},'handleBankRetrieve':function(_0x22e3b7){var _0x31efe4=_0x22e3b7[0x1];if(_0x31efe4>=0x0&&_0x31efe4<this[a47_0x5cbe('0x14')][a47_0x5cbe('0x109')][a47_0x5cbe('0xdb')]){var _0x46ada6=this[a47_0x5cbe('0x14')]['bank'][a47_0x5cbe('0xdc')][_0x31efe4];if(_0x46ada6&&_0x46ada6['itemKind']){var _0x20793c=this['player'][a47_0x5cbe('0xda')]['getEmptyEquipmentNumber']();if(_0x20793c>=0x0){this['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xed')](_0x46ada6);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x109')][a47_0x5cbe('0x10c')](_0x31efe4,_0x46ada6['itemNumber']);}}}this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x10d'))](this['player'][a47_0x5cbe('0x109')]['gold']));},'handleOpen':function(_0x55411e){log['info'](a47_0x5cbe('0x40')+this[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x10e')+_0x55411e[0x1]);var _0x2f3f7e=this[a47_0x5cbe('0x14')]['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x55411e[0x1]);if(_0x2f3f7e&&_0x2f3f7e instanceof Chest){this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['handleOpenedChest'](_0x2f3f7e,this[a47_0x5cbe('0x14')]);}},'handleTeleport':function(_0x4efaa6){var _0x36473f=_0x4efaa6[0x1],_0x31a37e=_0x4efaa6[0x2],_0xde4247=_0x4efaa6[0x3];if(_0x36473f!==this[a47_0x5cbe('0x14')]['id'])return;this[a47_0x5cbe('0x14')][a47_0x5cbe('0xd2')](_0x31a37e,_0xde4247);this[a47_0x5cbe('0x14')][a47_0x5cbe('0xd4')]();this[a47_0x5cbe('0xd5')](new Messages[(a47_0x5cbe('0x10f'))](this[a47_0x5cbe('0x14')]),![]);if(this[a47_0x5cbe('0x14')][a47_0x5cbe('0x110')]){for(var _0x291c69=0x0;_0x291c69<this[a47_0x5cbe('0x14')][a47_0x5cbe('0x110')][a47_0x5cbe('0x111')];++_0x291c69){var _0x1d1c3e=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x110')][_0x291c69];if(_0x1d1c3e[a47_0x5cbe('0x112')]())_0x1d1c3e[a47_0x5cbe('0x113')]();_0x1d1c3e[a47_0x5cbe('0xd2')](_0x31a37e,_0xde4247);this[a47_0x5cbe('0xd5')](new Messages[(a47_0x5cbe('0x10f'))](_0x1d1c3e),![]);_0x1d1c3e['clearTarget']();this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['handleEntityGroupMembership'](_0x1d1c3e);}}this[a47_0x5cbe('0x91')]['handlePlayerVanish'](this['player']);this['player'][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x114')](this['player']);this[a47_0x5cbe('0xd5')](new Messages[(a47_0x5cbe('0x115'))](this[a47_0x5cbe('0x14')]),!![]);},'handleStoreBuy':function(_0x3522f2){var _0x257b96=_0x3522f2[0x1],_0x3642fe=parseInt(_0x3522f2[0x2]),_0x4a6dc7=0x1,_0x1a71be=null,_0x41384b=0x0,_0x90f538=0x0,_0x249333=-0x1,_0x18160a=0x0;if(_0x4a6dc7<=0x0){return;}if(_0x3642fe){var _0x4b2c09=ItemTypes[a47_0x5cbe('0x116')][_0x3642fe];var _0x1a71be=_0x4b2c09[a47_0x5cbe('0x41')];_0x41384b=ItemTypes[a47_0x5cbe('0x117')](_0x3642fe);if(_0x41384b>0x0){if(ItemTypes[a47_0x5cbe('0x118')][a47_0x5cbe('0x119')](_0x3642fe)){_0x4a6dc7=_0x4b2c09[a47_0x5cbe('0x11a')];}_0x90f538=this['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xea')];if(_0x90f538<_0x41384b){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))]('SHOPYou\x20don\x27t\x20have\x20enough\x20Gold.'));return;}if(this['player'][a47_0x5cbe('0xda')][a47_0x5cbe('0xec')]()){var _0x380a9f=new ItemRoom(_0x3642fe,_0x4a6dc7,0x0,0x0);this['player']['inventory'][a47_0x5cbe('0xed')](_0x380a9f);this['player']['inventory'][a47_0x5cbe('0xe3')](-_0x41384b);this['player'][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0xdd')));if(!this['player'][a47_0x5cbe('0xde')]['equip']){this[a47_0x5cbe('0x14')][a47_0x5cbe('0x11b')](a47_0x5cbe('0x11c'),0xa,a47_0x5cbe('0x11d'));}}else{this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Notify'](a47_0x5cbe('0xf4')));}}}},'handleAppearanceUnlock':function(_0x1bce39){var _0x571cbe=_0x1bce39[0x1];var _0x168189=ApppearanceData[a47_0x5cbe('0x11e')][_0x571cbe];if(!_0x168189)return;var _0x298690=_0x168189[a47_0x5cbe('0xdd')],_0xfb8d05=0x0;if(_0x571cbe>=0x0){_0xfb8d05=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xea')];log[a47_0x5cbe('0x24')](a47_0x5cbe('0x11f')+_0xfb8d05);if(_0xfb8d05<_0x298690){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Notify'](a47_0x5cbe('0xeb')));return;}this[a47_0x5cbe('0x14')][a47_0x5cbe('0x120')][_0x571cbe]=0x1;this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xe3')](-_0x298690);databaseHandler[a47_0x5cbe('0x121')](this[a47_0x5cbe('0x14')]);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0xdd')));this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x122'))](this[a47_0x5cbe('0x14')]));}},'handleAppearanceList':function(){if(this[a47_0x5cbe('0x14')])this[a47_0x5cbe('0x14')]['map']['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x122'))](this[a47_0x5cbe('0x14')]));},'handleLookUpdate':function(_0x3646a6){var _0x335adc=_0x3646a6[0x1],_0x5b41a3=_0x3646a6[0x2];var _0x346e6e=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x120')][_0x5b41a3];if(_0x346e6e==0x1){if(_0x335adc==0x1){this[a47_0x5cbe('0x14')][a47_0x5cbe('0x123')]=_0x5b41a3;databaseHandler[a47_0x5cbe('0x124')](this[a47_0x5cbe('0x14')],_0x335adc,_0x5b41a3);}if(_0x335adc==0x2){this[a47_0x5cbe('0x14')][a47_0x5cbe('0x125')]=_0x5b41a3;databaseHandler['setLook'](this[a47_0x5cbe('0x14')],_0x335adc,_0x5b41a3);}}this[a47_0x5cbe('0xd5')](new Messages[(a47_0x5cbe('0x126'))](this[a47_0x5cbe('0x14')]),!![]);},'handleLooks':function(){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x127'))](this[a47_0x5cbe('0x14')]));},'handleCraft':function(_0x47e0bf){var _0x14a6f0=_0x47e0bf[0x1];if(!(_0x14a6f0 in CraftData[a47_0x5cbe('0x128')]))return;var _0x4c42c3=CraftData[a47_0x5cbe('0x128')][_0x14a6f0];if(!this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xec')]()){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](this['player'],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0x129')));return;}for(var _0x14a6f0 in _0x4c42c3[a47_0x5cbe('0x12a')]){var _0x274b42=this[a47_0x5cbe('0x14')]['inventory']['getItemNumber'](_0x4c42c3['input'][_0x14a6f0][0x0]);if(_0x4c42c3[a47_0x5cbe('0x12a')][_0x14a6f0][0x1]>_0x274b42){this[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this['player'],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0x12b')));return;}}for(var _0x14a6f0 in _0x4c42c3['input']){var _0xfc6d81=this['player'][a47_0x5cbe('0xda')]['getInventoryNumber'](_0x4c42c3[a47_0x5cbe('0x12a')][_0x14a6f0][0x0]);this['player'][a47_0x5cbe('0xda')]['takeOutInventory'](_0xfc6d81,_0x4c42c3[a47_0x5cbe('0x12a')][_0x14a6f0][0x1]);}var _0x3731ae=new ItemRoom(_0x4c42c3[a47_0x5cbe('0x12c')],Utils[a47_0x5cbe('0x12d')](_0x4c42c3['output']),0x0,0x0);this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xed')](_0x3731ae);this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this['player'],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0x12e')));},'handleInventory':function(_0x2b6512){var _0x82a5fb=_0x2b6512[0x1],_0x21e1b2=_0x2b6512[0x2],_0x1754ad=_0x2b6512[0x3],_0x2fbb3c=_0x2b6512[0x4],_0x5b1268=_0x2b6512[0x5]||0x0,_0x494859=_0x2b6512[0x6]||0x0;var _0x45eacd=this;var _0x6a696;if(_0x82a5fb==0x0){if(!this['player'][a47_0x5cbe('0xf9')]['rooms'][_0x1754ad])return;_0x6a696=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xf9')]['rooms'][_0x1754ad]['itemKind'];}else if(_0x82a5fb==0x1){if(!this[a47_0x5cbe('0x14')]['inventory']['rooms'][_0x1754ad])return;_0x6a696=this[a47_0x5cbe('0x14')]['inventory']['rooms'][_0x1754ad][a47_0x5cbe('0xe6')];}log[a47_0x5cbe('0x24')](a47_0x5cbe('0x12f')+_0x6a696);if(_0x21e1b2==='armor'){this[a47_0x5cbe('0x14')][a47_0x5cbe('0xde')]['equip']=!![];if(_0x82a5fb==0x1)this[a47_0x5cbe('0x14')][a47_0x5cbe('0x130')](_0x6a696,_0x1754ad);else this[a47_0x5cbe('0x14')][a47_0x5cbe('0x131')](_0x1754ad);}else if(_0x21e1b2===a47_0x5cbe('0x132')){this[a47_0x5cbe('0x14')]['tut']['equip']=!![];if(_0x82a5fb==0x1)this['player'][a47_0x5cbe('0x133')](_0x6a696,_0x1754ad);else this[a47_0x5cbe('0x14')][a47_0x5cbe('0x131')](_0x1754ad);}else if(_0x21e1b2===a47_0x5cbe('0x134')){this[a47_0x5cbe('0x14')][a47_0x5cbe('0x135')](_0x6a696,_0x1754ad);}else if(_0x21e1b2==='gloves'){this[a47_0x5cbe('0x14')]['handleInventoryClothes'](_0x6a696,_0x1754ad);}else if(_0x21e1b2===a47_0x5cbe('0x136')){this[a47_0x5cbe('0x14')][a47_0x5cbe('0x137')](_0x6a696,_0x1754ad,_0x2fbb3c,_0x5b1268,_0x494859);}else if(_0x21e1b2==='eat'){this['player'][a47_0x5cbe('0x138')](_0x6a696,_0x1754ad);}},'handleLoot':function(_0x5e0e73){var _0x5a326f=this;var _0x514f90=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x5e0e73[0x1]);if(_0x514f90&&_0x514f90 instanceof Item){var _0x17d26a=_0x514f90[a47_0x5cbe('0x139')];var _0x4843f0=0x0;if(_0x5a326f[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0x13a')](_0x514f90[a47_0x5cbe('0x139')],_0x514f90[a47_0x5cbe('0x13b')],_0x514f90['skillKind'],_0x514f90[a47_0x5cbe('0x13c')],_0x514f90['durability'],_0x514f90[a47_0x5cbe('0x13d')],_0x514f90['experience'])>=0x0){this[a47_0x5cbe('0xd5')](_0x514f90['despawn'](),![]);this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x13e')](_0x514f90);}}},'handleAttack':function(_0x1fb9c2){var _0x414114=this;this[a47_0x5cbe('0x13f')](this['player'],_0x1fb9c2);},'handleHitEntity':function(_0x3d8a46,_0x5a5387){var _0x245205=_0x5a5387[0x1];var _0x2b0bd7=_0x5a5387[0x2];var _0x268db0=_0x5a5387[0x3];var _0x2fa3cf=_0x5a5387[0x4];var _0x32a31d=_0x3d8a46[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0xd3')](_0x245205);var _0x54f941=this;if(!_0x32a31d)return;_0x54f941[a47_0x5cbe('0x31')]([_0x54f941[a47_0x5cbe('0x91')][a47_0x5cbe('0x140')],_0x54f941[a47_0x5cbe('0x14')]['id'],_0x54f941[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x141')],_0x2b0bd7,_0x268db0,0x2,_0x2fa3cf,_0x32a31d['id']]);if(_0x3d8a46===this['player']&&_0x32a31d instanceof Mob){this[a47_0x5cbe('0x14')]['tut'][a47_0x5cbe('0x142')]=!![];}if(_0x32a31d instanceof Player&&(this[a47_0x5cbe('0x14')][a47_0x5cbe('0x143')]<0x14||_0x32a31d['level']<0x14)){return;}if(_0x32a31d[a47_0x5cbe('0x144')]){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this['player'],new Messages[(a47_0x5cbe('0xc1'))](this['player'],a47_0x5cbe('0x145')));return;}if(_0x3d8a46[a47_0x5cbe('0x144')])return;if(_0x3d8a46==_0x54f941[a47_0x5cbe('0x14')]){if((this[a47_0x5cbe('0x14')][a47_0x5cbe('0xb4')]===Types[a47_0x5cbe('0x146')][a47_0x5cbe('0x147')]||this[a47_0x5cbe('0x14')][a47_0x5cbe('0xb4')]===Types[a47_0x5cbe('0x146')][a47_0x5cbe('0x148')])&&!this[a47_0x5cbe('0x14')][a47_0x5cbe('0x149')](_0x32a31d)){log[a47_0x5cbe('0x24')]('Player\x20not\x20close\x20enough!');log[a47_0x5cbe('0x24')]('x:'+this[a47_0x5cbe('0x14')]['x']+a47_0x5cbe('0x14a')+this[a47_0x5cbe('0x14')]['y']+a47_0x5cbe('0x14b')+_0x32a31d['x']+a47_0x5cbe('0x14c')+_0x32a31d['y']);return;}if(this[a47_0x5cbe('0x14')][a47_0x5cbe('0xb4')]===Types[a47_0x5cbe('0x146')][a47_0x5cbe('0x14d')]&&!this['player'][a47_0x5cbe('0x14e')](_0x32a31d,0xa)){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x14f'));return;}if(!_0x54f941[a47_0x5cbe('0x14')][a47_0x5cbe('0x150')][a47_0x5cbe('0x151')]())return;_0x54f941['player'][a47_0x5cbe('0x152')]=Date[a47_0x5cbe('0x153')]();}_0x54f941['player'][a47_0x5cbe('0x154')]=![];_0x54f941['player'][a47_0x5cbe('0x150')][a47_0x5cbe('0x155')]=0x400-~~(_0x54f941[a47_0x5cbe('0x14')]['fatigue']/_0x54f941[a47_0x5cbe('0x14')][a47_0x5cbe('0x156')]*0x200);if(_0x32a31d instanceof Mob)_0x54f941[a47_0x5cbe('0x17')][a47_0x5cbe('0x157')][a47_0x5cbe('0x158')](_0x32a31d,_0x54f941[a47_0x5cbe('0x14')]);_0x54f941[a47_0x5cbe('0x14')][a47_0x5cbe('0x159')]=!![];if(_0x54f941[a47_0x5cbe('0x14')][a47_0x5cbe('0x15a')][a47_0x5cbe('0x111')]>0x0){var _0x1997f5=_0x54f941[a47_0x5cbe('0x14')][a47_0x5cbe('0x15a')][0x0];var _0x246986=_0x1997f5[a47_0x5cbe('0x15b')][a47_0x5cbe('0x15c')];var _0x25b604=_0x54f941[a47_0x5cbe('0x15d')](_0x3d8a46,_0x32a31d,_0x1997f5,0x0);_0x54f941[a47_0x5cbe('0x15e')](_0x3d8a46,_0x32a31d,_0x25b604[a47_0x5cbe('0x15f')],_0x25b604['crit']);if(_0x246986==a47_0x5cbe('0x15f')){if(_0x1997f5[a47_0x5cbe('0x15b')][a47_0x5cbe('0x160')]>0x0){var _0x1fb411=_0x54f941[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x161')](_0x32a31d,_0x1997f5[a47_0x5cbe('0x15b')]['aoe']);if(_0x1fb411[a47_0x5cbe('0x111')]>0x0){for(var _0x35c367 in _0x1fb411){var _0x563a02=_0x1fb411[_0x35c367];if(_0x563a02 instanceof Mob||_0x563a02 instanceof Player&&_0x3d8a46[a47_0x5cbe('0x162')]&&_0x3d8a46[a47_0x5cbe('0x162')]!=_0x563a02[a47_0x5cbe('0x162')]){var _0x25b604=_0x54f941['calcDamage'](_0x3d8a46,_0x563a02,_0x1997f5,0x0);_0x54f941[a47_0x5cbe('0x15e')](_0x3d8a46,_0x563a02,_0x25b604[a47_0x5cbe('0x15f')],_0x25b604[a47_0x5cbe('0x163')]);}}}}}else if(_0x246986==a47_0x5cbe('0x164')&&_0x3d8a46['venom']>0x0){if(_0x1997f5[a47_0x5cbe('0x15b')][a47_0x5cbe('0xc9')]=a47_0x5cbe('0x164')&&_0x3d8a46[a47_0x5cbe('0x164')]>0x0){var _0x22ac47=0x0;_0x3d8a46[a47_0x5cbe('0x164')]=0x0;var _0x3737c2=setInterval(function(){_0x54f941['dealDamage'](_0x3d8a46,_0x32a31d,_0x25b604['dot']);if(++_0x22ac47==0x5)clearInterval(_0x3737c2);},0x3e8);}}else if(_0x246986=='vampire'&&_0x3d8a46[a47_0x5cbe('0x165')]>0x0){setTimeout(function(){_0x3d8a46['vampire']=0x0;},_0x1997f5[a47_0x5cbe('0x15b')]['duration']*0x3e8);}_0x54f941[a47_0x5cbe('0x14')][a47_0x5cbe('0x15a')][a47_0x5cbe('0x26')]();}else{var _0x25b604=_0x54f941[a47_0x5cbe('0x15d')](_0x3d8a46,_0x32a31d,null,0x0);if(_0x25b604[a47_0x5cbe('0x15f')]>0x0||_0x25b604[a47_0x5cbe('0x163')]>0x0||_0x25b604[a47_0x5cbe('0x166')]>0x0)_0x54f941[a47_0x5cbe('0x15e')](_0x3d8a46,_0x32a31d,_0x25b604[a47_0x5cbe('0x15f')],_0x25b604['crit']);}},'calcDamage':function(_0x17e9cb,_0x4446a1,_0x5d64cf,_0x424afb){var _0x2cd443=this;var _0xa19a33={'damage':0x0,'crit':0x0,'dot':0x0};if(!Formulas[a47_0x5cbe('0x167')](_0x17e9cb,_0x4446a1)){_0x2cd443[a47_0x5cbe('0x14')]['map'][a47_0x5cbe('0x27')]['pushToAdjacentGroups'](_0x17e9cb[a47_0x5cbe('0x168')],new Messages[(a47_0x5cbe('0x169'))](_0x17e9cb,_0x4446a1,0x0,_0x4446a1[a47_0x5cbe('0x16a')],_0x4446a1[a47_0x5cbe('0x16b')],0x0));return _0xa19a33;}_0xa19a33['damage']=Math[a47_0x5cbe('0x16c')](Formulas[a47_0x5cbe('0x16d')](_0x17e9cb,_0x4446a1));if(_0xa19a33['damage']==0x0)return _0xa19a33;var _0x565027=Formulas[a47_0x5cbe('0x163')](_0x17e9cb,_0x4446a1);if(_0x565027){_0xa19a33[a47_0x5cbe('0x15f')]*=0x2;_0xa19a33[a47_0x5cbe('0x163')]=0x1;}if(_0x5d64cf){var _0x44b8d7=_0x5d64cf[a47_0x5cbe('0x15b')][a47_0x5cbe('0x15c')];if(_0x44b8d7==a47_0x5cbe('0x164')&&_0x17e9cb[a47_0x5cbe('0x164')]>0x0){_0xa19a33['dot']=~~(_0xa19a33['damage']*_0x17e9cb[a47_0x5cbe('0x164')]/0x64);}else if(_0x44b8d7==a47_0x5cbe('0x15f')){var _0x368c48=0x1+_0x5d64cf[a47_0x5cbe('0x15b')]['perLevel']*(_0x5d64cf[a47_0x5cbe('0x13c')]+0x1)/0x64;if(_0x368c48>0x1){_0xa19a33[a47_0x5cbe('0x15f')]=~~(_0xa19a33[a47_0x5cbe('0x15f')]*_0x368c48);}}}if(_0x17e9cb['vampire']>0x0&&!_0x17e9cb[a47_0x5cbe('0x16e')]()){var _0x2b0f4e=Math[a47_0x5cbe('0x16f')](_0xa19a33[a47_0x5cbe('0x15f')]*(_0x17e9cb[a47_0x5cbe('0x165')]/0x64));_0x17e9cb[a47_0x5cbe('0x170')](_0x2b0f4e);if(_0x17e9cb instanceof Player)_0x17e9cb[a47_0x5cbe('0x17')]['entities']['pushToPlayer'](_0x17e9cb,_0x17e9cb['health']());}return _0xa19a33;},'dealDamage':function(_0x55549c,_0x5f4895,_0x52ec2e,_0x167312){var _0x968d10=this;if(!(_0x5f4895 instanceof Player||_0x5f4895 instanceof NpcPlayer)){_0x5f4895[a47_0x5cbe('0x171')](_0x52ec2e,_0x55549c['id']);if(_0x5f4895 instanceof Mob&&_0x5f4895[a47_0x5cbe('0x16a')]<=0x0){_0x968d10['player']['questAboutKill'](_0x5f4895);}if(!_0x55549c instanceof Pet)if(!_0x5f4895[a47_0x5cbe('0x172')](pet))_0x5f4895['addAttacker'](pet);if(_0x5f4895 instanceof Mob)_0x968d10[a47_0x5cbe('0x91')][a47_0x5cbe('0x173')](_0x968d10[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')],_0x5f4895['id'],_0x55549c['id'],_0x52ec2e);_0x968d10[a47_0x5cbe('0x14')][a47_0x5cbe('0x174')]+=_0x52ec2e;if(_0x55549c==_0x968d10[a47_0x5cbe('0x14')]&&_0x5f4895 instanceof Mob&&_0x5f4895[a47_0x5cbe('0x16a')]<=0x0){_0x968d10[a47_0x5cbe('0x14')][a47_0x5cbe('0x11b')]('Thats\x20it\x20now\x20kill\x20more\x20Monsters.',0x2,a47_0x5cbe('0x175'));}_0x968d10[a47_0x5cbe('0x91')][a47_0x5cbe('0x176')](_0x5f4895,_0x55549c,_0x52ec2e,_0x167312);}else{_0x5f4895[a47_0x5cbe('0x16a')]-=_0x52ec2e;_0x968d10['player']['weaponDamage']+=_0x52ec2e;_0x968d10[a47_0x5cbe('0x91')][a47_0x5cbe('0x176')](_0x5f4895,_0x55549c,_0x52ec2e,_0x167312);if(_0x5f4895[a47_0x5cbe('0x16a')]<=0x0){log['info'](a47_0x5cbe('0x177')+_0x968d10['player'][a47_0x5cbe('0x178')]);if(_0x968d10[a47_0x5cbe('0x14')][a47_0x5cbe('0x178')]>0x1){_0x968d10['player'][a47_0x5cbe('0x179')][a47_0x5cbe('0x17a')](_0x968d10[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')],--_0x968d10[a47_0x5cbe('0x14')]['pvpLevel']);}_0x5f4895['isDead']=!![];if(_0x55549c==_0x968d10[a47_0x5cbe('0x14')])_0x968d10[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x17b')](new Messages[(a47_0x5cbe('0xc1'))](_0x55549c,'/1\x20'+_0x55549c[a47_0x5cbe('0x41')]+'\x20killed\x20'+_0x5f4895[a47_0x5cbe('0x41')]+a47_0x5cbe('0x17c')));if(_0x55549c['map'][a47_0x5cbe('0x141')]==0x1){_0x55549c[a47_0x5cbe('0x179')][a47_0x5cbe('0x17d')](_0x55549c,'pk',++_0x55549c['pk']);_0x5f4895[a47_0x5cbe('0x179')][a47_0x5cbe('0x17d')](_0x5f4895,'pd',++_0x5f4895['pd']);}else{_0x55549c[a47_0x5cbe('0x179')][a47_0x5cbe('0x17d')](_0x55549c,'tk',++_0x55549c['tk']);_0x5f4895[a47_0x5cbe('0x179')]['saveStat'](_0x5f4895,'td',++_0x5f4895['td']);}}_0x968d10[a47_0x5cbe('0x91')][a47_0x5cbe('0x17e')](_0x55549c);}},'handleSkill':function(_0x14e573){var _0x3e691e=this;var _0xd60089=_0x14e573[0x1];var _0x5efc2b=_0x14e573[0x2];var _0x36788b=this[a47_0x5cbe('0x14')];var _0x63236d=_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x17f')][_0xd60089];var _0x1ce507;if(_0x5efc2b){_0x1ce507=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x5efc2b);}if(!_0x63236d[a47_0x5cbe('0x180')]())return;var _0x4b8161=_0x63236d['skillLevel']+0x1;var _0xd60089=_0x63236d[a47_0x5cbe('0x15b')]['skillType'];_0x63236d[a47_0x5cbe('0x181')]++;if(_0x63236d[a47_0x5cbe('0x181')]>0x2)_0x63236d[a47_0x5cbe('0x181')]=0x2;if(_0xd60089==a47_0x5cbe('0x182')){var _0x503981=_0x63236d['skillData'][a47_0x5cbe('0x183')]*_0x4b8161;_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x144')]=!![];setTimeout(function(){_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x144')]=![];},_0x503981*0x3e8);}if(_0xd60089=='accuracy'){var _0x47891c=_0x63236d['skillData']['perLevel']*_0x4b8161;_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x184')]+=_0x47891c;setTimeout(function(){_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x184')]-=_0x47891c;},_0x63236d[a47_0x5cbe('0x15b')]['duration']*0x3e8);}if(_0xd60089=='defence'){var _0x395296=0x1+_0x63236d['skillData'][a47_0x5cbe('0x183')]*_0x4b8161/0x64;_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x185')]*=_0x503981;setTimeout(function(){_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x185')]/=_0x503981;},_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x155')]*0x3e8);}if(_0xd60089==a47_0x5cbe('0x142')){var _0x395296=0x1+_0x63236d['skillData'][a47_0x5cbe('0x183')]*_0x4b8161/0x64;_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x186')]*=_0x395296;setTimeout(function(){_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x186')]/=_0x395296;},_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x155')]*0x3e8);}if(_0xd60089=='haste-attack'){var _0x395296=0x1+_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x183')]*_0x4b8161/0x64;_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x150')][a47_0x5cbe('0x155')]/=_0x395296;setTimeout(function(){_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x150')][a47_0x5cbe('0x155')]*=_0x395296;},_0x63236d['skillData'][a47_0x5cbe('0x155')]*0x3e8);}if(_0xd60089=='heal'){var _0x395296=_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x183')]*_0x4b8161/0x64;var _0xe71fd5=~~(_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x16b')]*_0x395296);if(!_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x16e')]()){_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x170')](_0xe71fd5);_0x3e691e['player']['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x3e691e['player'],_0x3e691e['player']['health']());}}if(_0xd60089=='partyheal'){var _0x395296=_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x183')]*_0x4b8161/0x64;var _0xbf043b=_0x3e691e[a47_0x5cbe('0x14')]['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x187')](this['player'],_0x63236d['skillData'][a47_0x5cbe('0x160')]);for(var _0x16dc28 in _0xbf043b){var _0x41bd58=_0xbf043b[_0x16dc28];if(!_0x41bd58[a47_0x5cbe('0x16e')]()){var _0xe71fd5=~~(_0x41bd58['maxHitPoints']*_0x395296);_0x41bd58[a47_0x5cbe('0x170')](_0xe71fd5);_0x41bd58['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x41bd58,_0x41bd58[a47_0x5cbe('0x188')]());}}}if(_0xd60089==a47_0x5cbe('0x189')){var _0x3ea6f1=_0x63236d[a47_0x5cbe('0x15b')]['perLevel']*_0x4b8161;var _0xbf043b=_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x187')](this[a47_0x5cbe('0x14')],_0x63236d['skillData'][a47_0x5cbe('0x160')]);for(var _0x16dc28 in _0xbf043b){var _0x41bd58=_0xbf043b[_0x16dc28];_0x41bd58[a47_0x5cbe('0x163')]+=_0x3ea6f1;}setTimeout(function(){for(var _0x16dc28 in _0xbf043b){var _0x41bd58=_0xbf043b[_0x16dc28];_0x41bd58[a47_0x5cbe('0x163')]-=_0x3ea6f1;}},_0x63236d['skillData'][a47_0x5cbe('0x155')]*0x3e8);}if(_0xd60089==a47_0x5cbe('0x165')){var _0x3ea6f1=_0x63236d[a47_0x5cbe('0x15b')]['perLevel']*_0x4b8161;_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x165')]+=_0x3ea6f1;_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x15a')][a47_0x5cbe('0x18a')](_0x63236d);}if(_0x1ce507&&_0xd60089==a47_0x5cbe('0x15f')){_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x15a')][a47_0x5cbe('0x18a')](_0x63236d);}if(_0x1ce507&&_0xd60089==a47_0x5cbe('0x18b')){var _0x395296=0x1+_0x63236d[a47_0x5cbe('0x15b')]['perLevel']*_0x4b8161/0x64;log[a47_0x5cbe('0x24')](a47_0x5cbe('0x18c')+_0x395296);_0x1ce507['attackCooldown']['duration']*=_0x395296;_0x1ce507[a47_0x5cbe('0x18d')][a47_0x5cbe('0x155')]*=_0x395296;setTimeout(function(){_0x1ce507[a47_0x5cbe('0x18e')]['duration']/=_0x395296;_0x1ce507['moveCooldown'][a47_0x5cbe('0x155')]/=_0x395296;},_0x63236d[a47_0x5cbe('0x15b')]['duration']*0x3e8);}if(_0x1ce507&&_0xd60089==a47_0x5cbe('0x164')){var _0x3ea6f1=_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x183')]*_0x4b8161;_0x3e691e['player']['venom']+=_0x3ea6f1;_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x15a')]['push'](_0x63236d);}if(_0x1ce507&&_0xd60089==a47_0x5cbe('0x18f')){var _0x47891c=_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x183')]*_0x4b8161;_0x1ce507['dazeChance']+=_0x47891c;setTimeout(function(){_0x1ce507[a47_0x5cbe('0x190')]-=_0x47891c;},_0x63236d[a47_0x5cbe('0x15b')]['duration']*0x3e8);}if(_0x1ce507&&_0xd60089==a47_0x5cbe('0x191')){var _0x4e09b7=_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x183')]*_0x4b8161;_0x3e691e['player'][a47_0x5cbe('0x91')][a47_0x5cbe('0x173')](_0x3e691e['player'][a47_0x5cbe('0x17')],_0x1ce507['id'],_0x3e691e[a47_0x5cbe('0x14')]['id'],_0x4e09b7);if(_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x160')])_0x3e691e['player'][a47_0x5cbe('0x192')]=_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x160')];}if(_0x1ce507&&_0xd60089==a47_0x5cbe('0x193')){var _0x47891c=_0x63236d[a47_0x5cbe('0x15b')]['baseLevel']+_0x63236d[a47_0x5cbe('0x15b')][a47_0x5cbe('0x183')]*_0x4b8161;if(_0x1ce507==_0x3e691e[a47_0x5cbe('0x14')])return;if(!_0x3e691e['player'][a47_0x5cbe('0x194')](_0x1ce507)){_0x3e691e[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x3e691e['player'],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0x195')));return;}if(Formulas[a47_0x5cbe('0x196')](_0x3e691e['player'],_0x1ce507,_0x47891c)){_0x3e691e[a47_0x5cbe('0x17')]['entities']['pushToPlayer'](_0x3e691e[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))]('Pickpocket\x20success.'));_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x91')][a47_0x5cbe('0x197')](_0x3e691e[a47_0x5cbe('0x14')],_0x1ce507);}else{_0x3e691e[a47_0x5cbe('0x17')]['entities']['pushToPlayer'](_0x3e691e[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0x198')));if(_0x1ce507 instanceof Player){_0x3e691e['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x1ce507,new Messages[(a47_0x5cbe('0xe4'))](_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x199')));}else if(_0x1ce507 instanceof Mob){_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x91')][a47_0x5cbe('0x173')](_0x3e691e[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')],_0x1ce507['id'],_0x3e691e[a47_0x5cbe('0x14')]['id'],0x64);}}}},'handleMindControl':function(_0x37fb7c,_0x5d858c){var _0x383c79=this;if(!_0x37fb7c||!_0x5d858c)return;var _0x4f104d=Formulas[a47_0x5cbe('0x19a')](_0x37fb7c,_0x5d858c);var _0x29a87f;if(_0x37fb7c[a47_0x5cbe('0x110')][a47_0x5cbe('0x111')]==0x1)_0x29a87f=_0x37fb7c[a47_0x5cbe('0x110')][0x0];this[a47_0x5cbe('0x19b')]=0x0;if(_0x4f104d&&(_0x37fb7c['pets'][a47_0x5cbe('0x111')]==0x0||_0x37fb7c[a47_0x5cbe('0x110')][a47_0x5cbe('0x111')]==0x1&&_0x5d858c[a47_0x5cbe('0x143')]>_0x29a87f['level'])){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x19c')+Types['Messages'][a47_0x5cbe('0x88')]+'\x20'+_0x5d858c[a47_0x5cbe('0x139')]);this['newPetKind']=_0x5d858c[a47_0x5cbe('0x139')];this[a47_0x5cbe('0x19d')]([Types['Messages']['PET_SWAP'],_0x5d858c[a47_0x5cbe('0x139')]]);}},'handlePetSwap':function(_0x3fe3ba){if(_0x3fe3ba[0x1]==0x0)return;var _0x118ed7=this;var _0x14cdd2=this[a47_0x5cbe('0x14')];if(!_0x14cdd2)return;_0x14cdd2['map'][a47_0x5cbe('0x27')]['pushToPlayer'](_0x14cdd2,new Messages[(a47_0x5cbe('0xe4'))]('Mind\x20control\x20success.'));_0x118ed7[a47_0x5cbe('0x19e')]([null,_0x14cdd2['id'],this['newPetKind']],{'x':_0x14cdd2['x'],'y':_0x14cdd2['y']});if(_0x14cdd2[a47_0x5cbe('0x110')][a47_0x5cbe('0x111')]==0x2){_0x118ed7[a47_0x5cbe('0x19f')]([null,_0x14cdd2['id'],0x0]);}log[a47_0x5cbe('0x24')]('this.newPetKind='+this[a47_0x5cbe('0x19b')]);this[a47_0x5cbe('0x19b')]=0x0;},'handleCardSwap':function(_0x40435a){var _0x1f1f4d=_0x40435a[0x1];var _0x16df2f=_0x40435a[0x2];if(_0x1f1f4d==0x1){var _0x3e901b=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1a0')][a47_0x5cbe('0x1a1')](_0x16df2f,0x1);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1a2')][a47_0x5cbe('0x18a')](_0x3e901b);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1a2')]['sort']();}if(_0x1f1f4d==0x2){var _0x3e901b=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1a2')][a47_0x5cbe('0x1a1')](_0x16df2f,0x1);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1a0')]['push'](_0x3e901b);this['player'][a47_0x5cbe('0x1a0')][a47_0x5cbe('0x1a3')]();}this[a47_0x5cbe('0x179')][a47_0x5cbe('0x1a4')](this[a47_0x5cbe('0x14')]);this['databaseHandler'][a47_0x5cbe('0x1a5')](this[a47_0x5cbe('0x14')]);this['player'][a47_0x5cbe('0x17')]['entities']['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x1a6'))](0x1,this[a47_0x5cbe('0x14')]));this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x1a6'))](0x2,this[a47_0x5cbe('0x14')]));},'handleCardBattleRequest':function(_0x2353fe){var _0x594c75=_0x2353fe[0x1];if(_0x594c75==0x1){var _0x31a48a=this['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x2353fe[0x2]);if(!_0x31a48a)return;this['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x31a48a,new Messages[(a47_0x5cbe('0x1a7'))](this[a47_0x5cbe('0x14')]));}else if(_0x594c75==0x2){var _0x33be71=this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['getEntityById'](_0x2353fe[0x2]);if(!_0x33be71)return;this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xc1'))](this[a47_0x5cbe('0x14')],a47_0x5cbe('0x1a8')+_0x33be71[a47_0x5cbe('0x41')]+a47_0x5cbe('0x1a9')));this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](_0x33be71,new Messages[(a47_0x5cbe('0xc1'))](_0x33be71,this[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+'\x20has\x20accepted\x20the\x20battle\x20request.'));this['minBet']=0x3e8;this[a47_0x5cbe('0x1aa')]=this[a47_0x5cbe('0x91')][a47_0x5cbe('0x1ab')](_0x33be71,0x2,this[a47_0x5cbe('0x1ac')]);_0x33be71[a47_0x5cbe('0x1ad')][a47_0x5cbe('0x1aa')]=this[a47_0x5cbe('0x1aa')];this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this['player'],new Messages[(a47_0x5cbe('0x1ae'))](_0x33be71,this[a47_0x5cbe('0x1ac')]));}else if(_0x594c75==0x3){var _0x33be71=this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x2353fe[0x2]);if(!_0x33be71)return;this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xc1'))](this['player'],'You\x20have\x20rejected\x20'+_0x33be71[a47_0x5cbe('0x41')]+a47_0x5cbe('0x1a9')));this[a47_0x5cbe('0x17')]['entities']['pushToPlayer'](_0x33be71,new Messages[(a47_0x5cbe('0xc1'))](_0x33be71,this[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x1af')));}else if(_0x594c75==0x4){var _0x33be71=this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x2353fe[0x2]);if(!_0x33be71)return;var _0x4fbd66=parseInt(_0x2353fe[0x3]);goldCount=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xea')];log['info'](a47_0x5cbe('0x11f')+goldCount);if(goldCount<_0x4fbd66){this['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Notify'](a47_0x5cbe('0x1b0')));return;}if(_0x4fbd66<this['minBet']){this['map'][a47_0x5cbe('0x27')]['pushToPlayer'](this['player'],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0x1b1')));this[a47_0x5cbe('0x1b2')]([null,0x3,_0x2353fe[0x2]]);return;}else{this['server']['addBet'](this['betId'],this[a47_0x5cbe('0x14')],_0x4fbd66);this[a47_0x5cbe('0x91')][a47_0x5cbe('0x1b3')](this[a47_0x5cbe('0x1aa')],this[a47_0x5cbe('0x14')]);}}},'handleGather':function(_0x459e1){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x38'));var _0x4b68e0=this;var _0x3f02db=_0x459e1[0x1];var _0x51462c=this[a47_0x5cbe('0x14')];if(_0x51462c[a47_0x5cbe('0x1b4')]==!![])return;var _0x531572;if(_0x3f02db){_0x531572=this['player'][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0xd3')](_0x3f02db);}if(!(_0x531572 instanceof Gather)){_0x4b68e0[a47_0x5cbe('0x14')][a47_0x5cbe('0x1b4')]=![];return;}if(_0x531572[a47_0x5cbe('0x1b5')])return;var _0x1b37b0=GatherData[a47_0x5cbe('0x128')][_0x531572[a47_0x5cbe('0x139')]]['level'];if(this[a47_0x5cbe('0x14')]['level']<_0x1b37b0){this[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))]('You\x20need\x20to\x20be\x20level\x20'+_0x1b37b0));this[a47_0x5cbe('0x19d')]([Types['Messages'][a47_0x5cbe('0x37')],0x0]);_0x4b68e0['player'][a47_0x5cbe('0x1b4')]=![];return;}var _0x1e72e8=this[a47_0x5cbe('0x14')]['x'],_0x5b75ab=this[a47_0x5cbe('0x14')]['y'];_0x4b68e0['player'][a47_0x5cbe('0x159')]=![];_0x4b68e0[a47_0x5cbe('0x14')][a47_0x5cbe('0x1b6')]=![];_0x4b68e0[a47_0x5cbe('0x14')][a47_0x5cbe('0x1b4')]=!![];this[a47_0x5cbe('0x17')]['entities']['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xe4'))](a47_0x5cbe('0x1b7')));setTimeout(function(){_0x4b68e0[a47_0x5cbe('0x14')][a47_0x5cbe('0x1b4')]=![];if(_0x4b68e0[a47_0x5cbe('0x14')][a47_0x5cbe('0x159')]||_0x4b68e0[a47_0x5cbe('0x14')][a47_0x5cbe('0x1b6')]){_0x4b68e0[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](_0x4b68e0[a47_0x5cbe('0x14')],new Messages['Notify']('Player\x20moved\x20or\x20attacked\x20gathering\x20aborted'));_0x4b68e0[a47_0x5cbe('0x19d')]([Types['Messages'][a47_0x5cbe('0x37')],0x0]);return;}_0x4b68e0['player']['hasAttacked']=![];_0x4b68e0[a47_0x5cbe('0x14')][a47_0x5cbe('0x1b6')]=![];_0x4b68e0[a47_0x5cbe('0x91')]['handleGather'](_0x4b68e0[a47_0x5cbe('0x14')],_0x531572);_0x4b68e0[a47_0x5cbe('0x19d')]([Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x37')],0x1]);},0x1388);},'handleSkillInstall':function(_0x11202d){var _0x539ead=_0x11202d[0x1],_0x329459=_0x11202d[0x2],_0x1650f2=this;if(_0x539ead>=0x0&&_0x539ead<0x6&&_0x329459 in SkillData['SkillNames']){log[a47_0x5cbe('0x24')]('index:\x20'+_0x539ead+a47_0x5cbe('0x1b8')+_0x329459);databaseHandler['handleSkillInstall'](this[a47_0x5cbe('0x14')],_0x539ead,_0x329459,function(){_0x1650f2[a47_0x5cbe('0x14')]['skillHandler'][a47_0x5cbe('0x1b9')](_0x539ead,_0x329459);_0x1650f2[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x1650f2[a47_0x5cbe('0x14')],new Messages['SkillInstall'](_0x539ead,_0x329459));});}},'handleSkillLoad':function(){var _0x4ed5bf=this;for(var _0x305d36 in _0x4ed5bf[a47_0x5cbe('0x14')][a47_0x5cbe('0x17f')]){var _0x19617d=_0x4ed5bf[a47_0x5cbe('0x14')][a47_0x5cbe('0x17f')][_0x305d36][a47_0x5cbe('0x15b')][a47_0x5cbe('0x41')];var _0x3a2570=_0x4ed5bf[a47_0x5cbe('0x14')][a47_0x5cbe('0x17f')][_0x305d36][a47_0x5cbe('0x13c')];_0x4ed5bf[a47_0x5cbe('0x14')][a47_0x5cbe('0x1ba')][a47_0x5cbe('0x1bb')](_0x19617d,_0x3a2570);_0x4ed5bf[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](_0x4ed5bf[a47_0x5cbe('0x14')],new Messages['SkillLoad'](_0x305d36,_0x19617d,_0x3a2570));}databaseHandler[a47_0x5cbe('0x1bc')](_0x4ed5bf[a47_0x5cbe('0x14')],function(_0xf43ffd){for(var _0x305d36=0x0;_0x305d36<_0xf43ffd[a47_0x5cbe('0x111')];_0x305d36++){var _0x19617d=_0xf43ffd[_0x305d36];if(!_0x19617d)break;_0x4ed5bf['player'][a47_0x5cbe('0x1ba')]['install'](_0x305d36,_0x19617d);_0x4ed5bf[a47_0x5cbe('0x14')]['map'][a47_0x5cbe('0x27')]['pushToPlayer'](_0x4ed5bf[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x1bd'))](_0x305d36,_0x19617d));}});},'handleClientFocus':function(_0x26c32b){var _0x3c7516=_0x26c32b[0x1];this['hasFocus']=_0x3c7516==0x0?![]:!![];},'handleMoveEntity':function(_0x59e51a){var _0x1a92d5=_0x59e51a[0x0],_0x11e9b6=_0x59e51a[0x1],_0x377497=parseInt(_0x59e51a[0x2]),_0x3aee49=_0x59e51a[0x3],_0x528e2d=_0x59e51a[0x4],_0x598b2a=_0x59e51a[0x5],_0x3aed49=_0x59e51a[0x6],_0x53474b=_0x59e51a[0x7];if(this['player']['mapStatus']<0x2||_0x377497!==this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x141')])return;var _0x2d91c3=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x11e9b6);if(!_0x2d91c3)return;var _0x44efcb=this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x53474b);if(_0x44efcb)_0x2d91c3['setTarget'](_0x44efcb);else _0x2d91c3[a47_0x5cbe('0xd4')]();_0x2d91c3[a47_0x5cbe('0x113')]();if(_0x2d91c3===this[a47_0x5cbe('0x14')]){this[a47_0x5cbe('0x14')]['tut'][a47_0x5cbe('0x1be')]=!![];this[a47_0x5cbe('0x14')][a47_0x5cbe('0x11b')](a47_0x5cbe('0x1bf'),0x6,'attack');}if(_0x2d91c3[a47_0x5cbe('0x17')][a47_0x5cbe('0x1c0')](_0x3aee49,_0x528e2d)){if(_0x598b2a==0x2){if(this['player']==_0x2d91c3&&this[a47_0x5cbe('0x14')]['prevMap']==this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x141')]){var _0x437967=Utils['manhattenDistance'](_0x2d91c3,{'x':_0x3aee49,'y':_0x528e2d});this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1c1')](_0x437967);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x152')]=Date[a47_0x5cbe('0x153')]();}this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1c2')]=this[a47_0x5cbe('0x14')]['map'][a47_0x5cbe('0x141')];_0x2d91c3[a47_0x5cbe('0xd2')](_0x3aee49,_0x528e2d);_0x2d91c3['setOrientation'](_0x3aed49);return;}if(_0x598b2a==0x1&&_0x11e9b6==this[a47_0x5cbe('0x14')]['id']){this['move_callback'](_0x3aee49,_0x528e2d);}var _0x2a2bfb=new Messages[(a47_0x5cbe('0x1c3'))](_0x2d91c3,_0x3aee49,_0x528e2d);_0x2d91c3[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x1c4')](_0x2d91c3,_0x2a2bfb);_0x2d91c3[a47_0x5cbe('0x1c5')](GLATENCY-(this[a47_0x5cbe('0x91')][a47_0x5cbe('0x140')]-_0x1a92d5));}},'handleMovePath':function(_0x368da1){var _0x145cbe=_0x368da1[0x0],_0x72ca74=_0x368da1[0x1],_0x565cc6=_0x368da1[0x2],_0x5dee5f=_0x368da1[0x3],_0x3ce184=_0x368da1[0x4],_0x3fa505=_0x368da1[0x5],_0x384573=JSON[a47_0x5cbe('0x1c6')](_0x368da1[0x6]);var _0x2a18bb=_0x384573[_0x5dee5f-0x1][0x0],_0x2bde2a=_0x384573[_0x5dee5f-0x1][0x1];if(this['player']['mapStatus']<0x2)return;var _0x9e0458=this[a47_0x5cbe('0x14')]['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x565cc6);if(!_0x9e0458)return;if(!_0x9e0458[a47_0x5cbe('0x17')][a47_0x5cbe('0x1c0')](_0x2a18bb,_0x2bde2a))return;if(this[a47_0x5cbe('0x14')]==_0x9e0458&&this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1c2')]==_0x72ca74){var _0x2714ef=Utils[a47_0x5cbe('0x1c7')](_0x9e0458,{'x':_0x2a18bb,'y':_0x2bde2a});this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1c1')](_0x2714ef);this['player'][a47_0x5cbe('0x152')]=Date['now']();}this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1c2')]=_0x72ca74;_0x9e0458['setMoveRate'](_0x3fa505);_0x9e0458[a47_0x5cbe('0x113')]();_0x9e0458[a47_0x5cbe('0x1c8')]=_0x384573;_0x9e0458['go'](_0x2a18bb,_0x2bde2a);this[a47_0x5cbe('0x9d')](_0x2a18bb,_0x2bde2a);var _0x4163d0=_0x9e0458['path'][a47_0x5cbe('0x1c9')](0x0);_0x4163d0['shift']();var _0x173506=new Messages[(a47_0x5cbe('0x1ca'))](_0x9e0458,_0x4163d0,_0x3ce184);_0x9e0458[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushNeighbours'](_0x9e0458,_0x173506);_0x9e0458[a47_0x5cbe('0x1c5')](GLATENCY-(this['server'][a47_0x5cbe('0x140')]-_0x145cbe));},'handleAddSpawn':function(_0x4873f3){var _0x26483c=_0x4873f3[0x1],_0x96b87b=_0x4873f3[0x2],_0x1d56eb=_0x4873f3[0x3];if(this[a47_0x5cbe('0x17')][a47_0x5cbe('0x1c0')](_0x96b87b,_0x1d56eb)){log['info']('handleAddSpawn');EntitySpawn[a47_0x5cbe('0x1cb')](_0x26483c,_0x96b87b,_0x1d56eb);this['map'][a47_0x5cbe('0x27')]['spawnEntity'](_0x26483c,_0x96b87b,_0x1d56eb,this['player'][a47_0x5cbe('0x17')]);}},'handleSaveSpawns':function(_0x21282d){if(this['player'][a47_0x5cbe('0x1cc')]())EntitySpawn[a47_0x5cbe('0x1cd')]();},'handlePartyInvite':function(_0x571bab){var _0x1241ef=_0x571bab[0x1];var _0x1ed5af=_0x571bab[0x2];var _0x2f6bb3=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['getEntityById'](_0x1241ef);var _0x29e088=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1ce')];if(_0x1ed5af==0x0){if(_0x2f6bb3 instanceof NpcPlayer)this['player'][a47_0x5cbe('0x17')]['npcController'][a47_0x5cbe('0x1cf')](_0x2f6bb3,this[a47_0x5cbe('0x14')]);else if(_0x2f6bb3 instanceof Player)this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x2f6bb3,new Messages['PartyInvite'](this[a47_0x5cbe('0x14')]['id']));}else if(_0x1ed5af==0x1){if(_0x2f6bb3[a47_0x5cbe('0x1ce')]){_0x2f6bb3[a47_0x5cbe('0x1ce')][a47_0x5cbe('0x94')](_0x2f6bb3);}if(_0x29e088){if(_0x29e088['players'][a47_0x5cbe('0x111')]>=0x5){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this['player'],new Messages[(a47_0x5cbe('0xc1'))](this[a47_0x5cbe('0x14')],a47_0x5cbe('0x1d0')));return;}_0x29e088['addPlayer'](_0x2f6bb3);}else{_0x2f6bb3['party']=_0x29e088=this[a47_0x5cbe('0x91')][a47_0x5cbe('0x1d1')](this[a47_0x5cbe('0x14')],_0x2f6bb3);}if(_0x2f6bb3){if(!_0x2f6bb3 instanceof NpcPlayer)this['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x2f6bb3,new Messages[(a47_0x5cbe('0xc1'))](_0x2f6bb3,this[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x1d2')));this['map'][a47_0x5cbe('0x27')]['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xc1'))](this['player'],'You\x20are\x20now\x20partied\x20with\x20'+_0x2f6bb3['name']));}}else if(_0x1ed5af==0x2){if(this[a47_0x5cbe('0x14')]instanceof Player&&_0x2f6bb3 instanceof Player)this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xc1'))](this[a47_0x5cbe('0x14')],'You\x20rejected\x20'+_0x2f6bb3['name']+a47_0x5cbe('0x1d3')));else this[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this['player'],new Messages[(a47_0x5cbe('0xc1'))](this['player'],_0x2f6bb3['name']+a47_0x5cbe('0x1d4')));if(_0x2f6bb3 instanceof Player)this['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x2f6bb3,new Messages[(a47_0x5cbe('0xc1'))](_0x2f6bb3,this[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x1d4')));}},'handlePartyLeave':function(_0xe2eff9){var _0x3245f7=this['player']['party'];var _0x5d1bcf=_0x3245f7?_0x3245f7[a47_0x5cbe('0x1d5')]:null;if(_0x5d1bcf==null)return;if(!_0x3245f7){this[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xc1'))](this['player'],a47_0x5cbe('0x1d6')));return;}_0x3245f7[a47_0x5cbe('0x94')](this[a47_0x5cbe('0x14')]);this[a47_0x5cbe('0x1d7')](_0x3245f7);this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](_0x5d1bcf,new Messages[(a47_0x5cbe('0xc1'))](_0x5d1bcf,this[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x1d8')));if(this[a47_0x5cbe('0x14')]!=_0x5d1bcf)this[a47_0x5cbe('0x17')]['entities']['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xc1'))](this[a47_0x5cbe('0x14')],a47_0x5cbe('0x1d9')+_0x5d1bcf[a47_0x5cbe('0x41')]+'\x27s\x20party.'));},'handlePartyLeader':function(_0x5e9652){var _0x5b8841=_0x5e9652[0x1];var _0x1b91e4=this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['getEntityById'](_0x5b8841);var _0x13f199=this[a47_0x5cbe('0x14')]['party'];if(!_0x13f199){this['map']['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xc1'))](this[a47_0x5cbe('0x14')],a47_0x5cbe('0x1da')));return;}if(this[a47_0x5cbe('0x14')]==_0x13f199[a47_0x5cbe('0x1d5')]){_0x13f199['leader']=_0x1b91e4;this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x1b91e4,new Messages[(a47_0x5cbe('0xc1'))](_0x1b91e4,a47_0x5cbe('0x1db')));this['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Chat'](this['player'],_0x13f199[a47_0x5cbe('0x1d5')][a47_0x5cbe('0x41')]+a47_0x5cbe('0x1dc')));}else{this['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0xc1'))](this['player'],_0x13f199[a47_0x5cbe('0x1d5')]['name']+a47_0x5cbe('0x1dd')));}},'handlePartyKick':function(_0x5593fc){var _0x3edbfa=_0x5593fc[0x1];var _0x167e1c=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x3edbfa);var _0x2a7cd7=this[a47_0x5cbe('0x14')]['party'];if(!_0x2a7cd7){this[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this['player'],new Messages['Chat'](this[a47_0x5cbe('0x14')],a47_0x5cbe('0x1de')));return;}if(this[a47_0x5cbe('0x14')]==_0x2a7cd7['leader']){_0x2a7cd7[a47_0x5cbe('0x94')](_0x167e1c);if(_0x167e1c instanceof Player)this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x167e1c,new Messages[(a47_0x5cbe('0xc1'))](_0x167e1c,a47_0x5cbe('0x1df')));this['handlePartyAbandoned'](_0x2a7cd7);}else{this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this['player'],new Messages[(a47_0x5cbe('0xc1'))](this[a47_0x5cbe('0x14')],a47_0x5cbe('0x1e0')));}},'handlePartyAbandoned':function(_0x40286f){if(_0x40286f['players'][a47_0x5cbe('0x111')]==0x1){this[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Chat'](this[a47_0x5cbe('0x14')],a47_0x5cbe('0x1e1')));this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['pushToPlayer'](this[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x1e2'))]([]));if(this['player']!==_0x40286f[a47_0x5cbe('0x1e3')][0x0]&&_0x40286f[a47_0x5cbe('0x1e3')][0x0]instanceof Player){this[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](_0x40286f['players'][0x0],new Messages[(a47_0x5cbe('0xc1'))](_0x40286f[a47_0x5cbe('0x1e3')][0x0],a47_0x5cbe('0x1e1')));this[a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](_0x40286f['players'][0x0],new Messages['Party']([]));}this[a47_0x5cbe('0x91')][a47_0x5cbe('0x1e4')](_0x40286f);}},'handlePetCreateAdmin':function(_0x567499){if(this['player'][a47_0x5cbe('0x1cc')]())this['handlePetCreate'](_0x567499);},'handlePetRemoveAdmin':function(_0x1b390b){if(this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1cc')]())this[a47_0x5cbe('0x19f')](_0x1b390b);},'handlePetCreate':function(_0x509c0a,_0x1824f5){log['info']('handlePetCreate');var _0x115905=_0x509c0a[0x1];var _0x281a89=_0x509c0a[0x2];log[a47_0x5cbe('0x24')](a47_0x5cbe('0x1e5')+_0x281a89);if(!MobData[a47_0x5cbe('0x128')][_0x281a89])return;_0x1824f5=_0x1824f5||{'x':this[a47_0x5cbe('0x14')]['x'],'y':this[a47_0x5cbe('0x14')]['y']};log[a47_0x5cbe('0x24')](a47_0x5cbe('0x1e6')+_0x1824f5['x']+a47_0x5cbe('0x1e7')+_0x1824f5['y']);if(_0x1824f5){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x1e8'));var _0x36ace1=this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['addPet'](this['player'],_0x281a89,_0x1824f5['x'],_0x1824f5['y']);target=this['player'][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0xd3')](_0x115905);this[a47_0x5cbe('0x179')]['handlePet'](target,0x0,_0x281a89);log[a47_0x5cbe('0x24')](a47_0x5cbe('0x1e9')+this[a47_0x5cbe('0x14')]['map'][a47_0x5cbe('0x141')]);this['player']['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x17b')](_0x36ace1[a47_0x5cbe('0x1ea')]());}},'handlePetDestroy':function(_0x2cd82d){var _0x3a7200=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0xd3')](_0x2cd82d[0x1]);var _0x548eca=_0x3a7200['pets'][_0x2cd82d[0x2]];_0x3a7200[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x17b')](new Messages[(a47_0x5cbe('0x1eb'))](_0x548eca,0x0),![]);_0x3a7200[a47_0x5cbe('0x110')][a47_0x5cbe('0x1a1')](_0x2cd82d[0x2],0x1);_0x3a7200['map'][a47_0x5cbe('0x27')][a47_0x5cbe('0x13e')](_0x548eca);},'handleSendInventory':function(_0x199ac4){var _0x2c2470=this[a47_0x5cbe('0x14')];var _0x42607b=[Types[a47_0x5cbe('0x19')]['SEND_INVENTORY']];_0x42607b[a47_0x5cbe('0x18a')](_0x2c2470['inventory'][a47_0x5cbe('0x1ec')]);for(var _0xe396bf=0x0;_0xe396bf<_0x2c2470[a47_0x5cbe('0xda')][a47_0x5cbe('0x1ec')];_0xe396bf++){_0x42607b[a47_0x5cbe('0x18a')](_0x2c2470[a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0xe396bf][a47_0x5cbe('0xe6')]);_0x42607b[a47_0x5cbe('0x18a')](_0x2c2470[a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0xe396bf][a47_0x5cbe('0xfc')]);_0x42607b['push'](_0x2c2470[a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0xe396bf][a47_0x5cbe('0x1ed')]);_0x42607b[a47_0x5cbe('0x18a')](_0x2c2470[a47_0x5cbe('0xda')][a47_0x5cbe('0xdc')][_0xe396bf][a47_0x5cbe('0x1ee')]);}_0x2c2470[a47_0x5cbe('0x19d')](_0x42607b);},'handleSendBank':function(_0x3cfd4b){var _0x405152=this[a47_0x5cbe('0x14')];var _0x60c9eb=[Types[a47_0x5cbe('0x19')]['SEND_BANK']];_0x60c9eb[a47_0x5cbe('0x18a')](_0x405152[a47_0x5cbe('0x109')][a47_0x5cbe('0x1ec')]);for(var _0x5af903=0x0;_0x5af903<_0x405152[a47_0x5cbe('0x109')][a47_0x5cbe('0x1ec')];_0x5af903++){_0x60c9eb[a47_0x5cbe('0x18a')](_0x405152[a47_0x5cbe('0x109')][a47_0x5cbe('0xdc')][_0x5af903][a47_0x5cbe('0xe6')]);_0x60c9eb[a47_0x5cbe('0x18a')](_0x405152[a47_0x5cbe('0x109')][a47_0x5cbe('0xdc')][_0x5af903]['itemNumber']);_0x60c9eb[a47_0x5cbe('0x18a')](_0x405152[a47_0x5cbe('0x109')][a47_0x5cbe('0xdc')][_0x5af903][a47_0x5cbe('0x1ed')]);_0x60c9eb[a47_0x5cbe('0x18a')](_0x405152['bank'][a47_0x5cbe('0xdc')][_0x5af903]['itemSkillLevel']);}_0x405152[a47_0x5cbe('0x19d')](_0x60c9eb);},'handleTeleportMap':function(_0x3b531e){var _0x114f26=this;var _0xc43ff8=parseInt(_0x3b531e[0x1]);var _0x459f03=parseInt(_0x3b531e[0x2]);var _0x2d8991=parseInt(_0x3b531e[0x3]);var _0x31ab53=parseInt(_0x3b531e[0x4]);if(!_0x114f26[a47_0x5cbe('0x91')]['maps'][_0xc43ff8]||!_0x114f26['server']['maps'][_0xc43ff8][a47_0x5cbe('0x1ef')]){log[a47_0x5cbe('0x24')](a47_0x5cbe('0x1f0'));}if(_0x459f03==-0x1){_0x114f26[a47_0x5cbe('0x14')]['pushSpawns']=![];this[a47_0x5cbe('0x19d')]([Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x65')],_0xc43ff8,0x0,_0x2d8991,_0x31ab53]);}else if(_0x459f03==0x0){_0x114f26[a47_0x5cbe('0x14')][a47_0x5cbe('0x113')]();_0x114f26[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f1')]=0x0;_0x114f26[a47_0x5cbe('0x1f2')]();_0x114f26[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x94')](this[a47_0x5cbe('0x14')]);_0x114f26['map']=_0x114f26[a47_0x5cbe('0x91')][a47_0x5cbe('0x92')][_0xc43ff8];_0x114f26['player'][a47_0x5cbe('0x17')]=_0x114f26[a47_0x5cbe('0x91')]['maps'][_0xc43ff8];_0x114f26[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x1f3')](_0x114f26[a47_0x5cbe('0x14')]);var _0x3432fc=_0x114f26[a47_0x5cbe('0x91')][a47_0x5cbe('0x92')][_0xc43ff8]['enterCallback'](_0x114f26[a47_0x5cbe('0x14')]);_0x114f26['player']['setPosition'](_0x3432fc['x'],_0x3432fc['y']);_0x114f26['send']([Types['Messages'][a47_0x5cbe('0x65')],_0x114f26[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['index'],0x1,_0x3432fc['x'],_0x3432fc['y']]);}else if(_0x459f03==0x1){this[a47_0x5cbe('0x1f4')](_0xc43ff8,_0x114f26[a47_0x5cbe('0x14')]['x'],_0x114f26['player']['y']);}else if(_0x459f03==0x2){this[a47_0x5cbe('0x1f5')](_0xc43ff8,_0x114f26[a47_0x5cbe('0x14')]['x'],_0x114f26['player']['y']);_0x114f26['player'][a47_0x5cbe('0x1f1')]=0x3;}},'handleSpawnMap2':function(_0x17da4a,_0x4f845c,_0x35528f){var _0x4f36a5=this;_0x4f36a5[a47_0x5cbe('0x19d')]([Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x65')],_0x17da4a,0x3,_0x4f845c,_0x35528f]);_0x4f36a5[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f6')]={};if(_0x4f36a5[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f7')]==![]){_0x4f36a5[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['entities']['pushRelevantEntitySpawnTo'](_0x4f36a5[a47_0x5cbe('0x14')]);_0x4f36a5[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f7')]=!![];}log[a47_0x5cbe('0x24')](a47_0x5cbe('0x1f8')+_0x4f36a5[a47_0x5cbe('0x91')][a47_0x5cbe('0x140')]);_0x4f36a5['handleMoveEntity']([_0x4f36a5['server'][a47_0x5cbe('0x140')],_0x4f36a5[a47_0x5cbe('0x14')]['id'],_0x17da4a,_0x4f845c,_0x35528f,0x2,_0x4f36a5[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f9')],null]);_0x4f36a5['player']['map'][a47_0x5cbe('0x27')]['pushBroadcast'](new Messages[(a47_0x5cbe('0x115'))](_0x4f36a5['player']),_0x4f36a5[a47_0x5cbe('0x14')]['id']);if(_0x4f36a5[a47_0x5cbe('0x14')][a47_0x5cbe('0xde')][a47_0x5cbe('0x1be')]){_0x4f36a5[a47_0x5cbe('0x14')][a47_0x5cbe('0xde')][a47_0x5cbe('0x1fa')]=!![];}},'handleSpawnMap':function(_0x20ee77,_0x502bc0,_0x2fd893){log['info'](a47_0x5cbe('0x1f4'));var _0x56897c=this;var _0xadead7=[Types[a47_0x5cbe('0x19')]['TELEPORT_MAP'],_0x20ee77,0x2,_0x502bc0,_0x2fd893];_0x56897c[a47_0x5cbe('0x19d')](_0xadead7);for(var _0x548974=0x0;_0x548974<_0x56897c[a47_0x5cbe('0x1fb')][a47_0x5cbe('0x111')];_0x548974++){_0x56897c[a47_0x5cbe('0x14')]['pets'][a47_0x5cbe('0x1a1')](_0x548974,0x1);_0x56897c[a47_0x5cbe('0x14')]['map']['entities'][a47_0x5cbe('0x1fc')](_0x56897c[a47_0x5cbe('0x14')],_0x56897c[a47_0x5cbe('0x1fb')][_0x548974],_0x56897c[a47_0x5cbe('0x14')]['x'],_0x56897c[a47_0x5cbe('0x14')]['y']);}_0x56897c[a47_0x5cbe('0x1fb')]=[];},'handleClearMap':function(){var _0x5825c3=this;this[a47_0x5cbe('0x14')][a47_0x5cbe('0xd4')]();this['server'][a47_0x5cbe('0x1fd')](this[a47_0x5cbe('0x14')]);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['removeEntity'](this[a47_0x5cbe('0x14')]);_0x5825c3[a47_0x5cbe('0x1fb')]=[];if(_0x5825c3['player']['pets']){var _0x4d409a=_0x5825c3[a47_0x5cbe('0x14')]['pets'][a47_0x5cbe('0x111')];if(_0x4d409a>0x0){for(var _0x429050=_0x4d409a-0x1;_0x429050>=0x0;--_0x429050){var _0x48ada7=_0x5825c3['player'][a47_0x5cbe('0x110')][_0x429050];_0x5825c3[a47_0x5cbe('0xd5')](_0x48ada7[a47_0x5cbe('0x1fe')]());_0x5825c3['petKinds'][a47_0x5cbe('0x18a')](_0x48ada7[a47_0x5cbe('0x139')]);_0x48ada7[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x13e')](_0x48ada7);}}}},'handleRevive':function(_0x18ee3a){if(this['player'][a47_0x5cbe('0x1b5')]==!![]){log[a47_0x5cbe('0x24')]('handled\x20Revive!!');this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1b5')]=![];this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f')]=!![];this[a47_0x5cbe('0x14')][a47_0x5cbe('0x16a')]=this[a47_0x5cbe('0x14')][a47_0x5cbe('0x16b')];this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1ff')]();}},'handleColorTint':function(_0x2c72da){var _0x41a44d=_0x2c72da[0x1],_0xe11409=_0x2c72da[0x2];if(_0x41a44d=='armorColor'||_0x41a44d==a47_0x5cbe('0x200')){this[a47_0x5cbe('0x179')][a47_0x5cbe('0x201')](this['player'],_0x41a44d,_0xe11409);this['player'][_0x41a44d]=_0xe11409;this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x17b')](new Messages[(a47_0x5cbe('0x202'))](this[a47_0x5cbe('0x14')],_0x41a44d,_0xe11409));}},'handleDevice':function(_0x55cdc1){this['mobile']=_0x55cdc1[0x1]=='1';this[a47_0x5cbe('0x203')]=_0x55cdc1[0x2]=='1';this[a47_0x5cbe('0x204')]=!this[a47_0x5cbe('0x205')]&&!this[a47_0x5cbe('0x203')];},'handleDelist':function(_0x5516c4){for(var _0x2f0a10 in _0x5516c4){this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1f6')][_0x5516c4[_0x2f0a10]]=![];}},'handleGuild':function(_0x849e7c){var _0x89843a=this;log['info'](a47_0x5cbe('0x8a'));if(_0x849e7c[0x1]===Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x206')][a47_0x5cbe('0x1a')]){goldCount=this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xea')];var _0x45469d=0x2710;if(goldCount<_0x45469d){this[a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['Notify'](a47_0x5cbe('0x207')));return;}this[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')]['modifyGold'](-_0x45469d);var _0x7ea30e=Utils[a47_0x5cbe('0xa0')](_0x849e7c[0x2]);if(_0x7ea30e===''){_0x89843a[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](_0x89843a[a47_0x5cbe('0x14')],new Messages['GuildError'](Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x208')][a47_0x5cbe('0x209')],_0x849e7c[0x2]));}else{var _0x18f848=_0x89843a[a47_0x5cbe('0x91')][a47_0x5cbe('0x20a')][a47_0x5cbe('0x20b')](_0x7ea30e);if(_0x18f848===![]){_0x89843a[a47_0x5cbe('0x14')]['map']['entities'][a47_0x5cbe('0x63')](_0x89843a[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x20c'))](Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x208')][a47_0x5cbe('0x20d')],_0x7ea30e));}else{_0x89843a['server'][a47_0x5cbe('0x20a')]['joinGuild'](_0x89843a['player'],_0x18f848);_0x89843a[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](_0x89843a[a47_0x5cbe('0x14')],new Messages[(a47_0x5cbe('0x20e'))](Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x206')][a47_0x5cbe('0x1a')],[_0x18f848,_0x7ea30e]));}}}else if(_0x849e7c[0x1]===Types[a47_0x5cbe('0x19')]['GUILDACTION'][a47_0x5cbe('0x20f')]){var _0x91fb13=_0x849e7c[0x2];var _0x47a5ab=_0x89843a[a47_0x5cbe('0x91')]['getPlayerByName'](_0x91fb13);log[a47_0x5cbe('0x24')](a47_0x5cbe('0x210')+_0x89843a[a47_0x5cbe('0x14')][a47_0x5cbe('0x211')]()[a47_0x5cbe('0x1d5')]);log[a47_0x5cbe('0x24')](a47_0x5cbe('0xad')+_0x89843a[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')]);if(_0x47a5ab&&_0x89843a[a47_0x5cbe('0x14')][a47_0x5cbe('0x211')]()[a47_0x5cbe('0x1d5')]==_0x89843a[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')])_0x89843a[a47_0x5cbe('0x14')]['getGuild']()[a47_0x5cbe('0x212')](_0x47a5ab,_0x89843a[a47_0x5cbe('0x14')]);}else if(_0x849e7c[0x1]===Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x206')]['JOIN']){_0x89843a[a47_0x5cbe('0x91')][a47_0x5cbe('0x20a')][a47_0x5cbe('0x213')](_0x89843a['player'],_0x849e7c[0x2],_0x849e7c[0x3]);}else if(_0x849e7c[0x1]===Types['Messages'][a47_0x5cbe('0x206')][a47_0x5cbe('0x214')]){_0x89843a['player'][a47_0x5cbe('0x215')]();}else if(_0x849e7c[0x1]===Types['Messages']['GUILDACTION'][a47_0x5cbe('0x216')]){_0x89843a[a47_0x5cbe('0x91')][a47_0x5cbe('0x20a')][a47_0x5cbe('0x217')](_0x89843a[a47_0x5cbe('0x14')][a47_0x5cbe('0x211')](),new Messages[(a47_0x5cbe('0x20e'))](Types[a47_0x5cbe('0x19')][a47_0x5cbe('0x206')]['TALK'],[_0x89843a[a47_0x5cbe('0x14')][a47_0x5cbe('0x41')],_0x89843a[a47_0x5cbe('0x14')]['id'],_0x849e7c[0x2]]));}},'handleGold':function(_0x38723a){var _0xc7df91=this;var _0x43e9ca=_0x38723a[0x1];var _0x2d56f9=parseInt(_0x38723a[0x2]);if(_0x43e9ca==0x1&&_0x2d56f9>0x0&&_0x2d56f9<=_0xc7df91['player'][a47_0x5cbe('0xda')]['gold']){_0xc7df91[a47_0x5cbe('0x14')][a47_0x5cbe('0xda')][a47_0x5cbe('0xe3')](-_0x2d56f9);_0xc7df91[a47_0x5cbe('0x14')][a47_0x5cbe('0x109')]['modifyGold'](_0x2d56f9);}else if(_0x43e9ca==0x2&&_0x2d56f9>0x0&&_0x2d56f9<=_0xc7df91[a47_0x5cbe('0x14')][a47_0x5cbe('0x109')][a47_0x5cbe('0xea')]){_0xc7df91[a47_0x5cbe('0x14')]['inventory'][a47_0x5cbe('0xe3')](_0x2d56f9);_0xc7df91[a47_0x5cbe('0x14')]['bank'][a47_0x5cbe('0xe3')](-_0x2d56f9);}},'handlePurchase':function(_0x251523){var _0x2aec93=this;},'handleStatAdd':function(_0x3e1b24){var _0x204d75=this;var _0xaa8eb9=parseInt(_0x3e1b24[0x1]);var _0x5e2d0a=parseInt(_0x3e1b24[0x2]);if(_0x5e2d0a<0x0||_0x5e2d0a>this[a47_0x5cbe('0x14')][a47_0x5cbe('0x218')][a47_0x5cbe('0x219')])return;switch(_0xaa8eb9){case 0x1:this[a47_0x5cbe('0x14')]['stats'][a47_0x5cbe('0x21a')]+=_0x5e2d0a;break;case 0x2:this[a47_0x5cbe('0x14')][a47_0x5cbe('0x218')]['agility']+=_0x5e2d0a;break;case 0x3:this[a47_0x5cbe('0x14')]['stats'][a47_0x5cbe('0x188')]+=_0x5e2d0a;break;case 0x4:this[a47_0x5cbe('0x14')][a47_0x5cbe('0x218')][a47_0x5cbe('0x21b')]+=_0x5e2d0a;break;case 0x5:this[a47_0x5cbe('0x14')][a47_0x5cbe('0x218')][a47_0x5cbe('0x21c')]+=_0x5e2d0a;break;}this[a47_0x5cbe('0x14')][a47_0x5cbe('0x218')][a47_0x5cbe('0x219')]-=_0x5e2d0a;this[a47_0x5cbe('0x14')][a47_0x5cbe('0x1ff')]();this[a47_0x5cbe('0x179')][a47_0x5cbe('0x21d')](this[a47_0x5cbe('0x14')]);this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')]['entities'][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['StatInfo'](this[a47_0x5cbe('0x14')]));this[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')][a47_0x5cbe('0x63')](this[a47_0x5cbe('0x14')],new Messages['HealthEnergy'](this['player']));},'handleKnowWho':function(_0x549b66){var _0x37eb98=this;_0x37eb98[a47_0x5cbe('0x14')][a47_0x5cbe('0x17')][a47_0x5cbe('0x27')]['processWho'](_0x37eb98[a47_0x5cbe('0x14')],_0x549b66);},'send':function(_0x1ceed4){this[a47_0x5cbe('0x15')][a47_0x5cbe('0x19d')](_0x1ceed4);}});