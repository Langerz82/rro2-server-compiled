var a65_0x5780=['abs','manhattenDistance','NaN2Zero','trueFalse','removeDoubleQuotes','replace','max','apply','map','min','array_values','arraysEqual','isWeapon','isArcherWeapon','sanitizer','../shared/js/gametypes','../shared/js/itemtypes','exports','sanitize','escape','floor','random','randomRangeInt','ratioToBool','clamp','randomOrientation','Orientations','LEFT','RIGHT','getOrientationFromLastMove','path','length','DOWN','randomPositionNextTo','Mixin','keys','distanceTo'];(function(_0xe74c23,_0x23358d){var _0x103ad5=function(_0x110b7e){while(--_0x110b7e){_0xe74c23['push'](_0xe74c23['shift']());}};_0x103ad5(++_0x23358d);}(a65_0x5780,0x1a5));var a65_0x7968=function(_0x18a562,_0x366d1f){_0x18a562=_0x18a562-0x0;var _0xa5e296=a65_0x5780[_0x18a562];return _0xa5e296;};var Utils={},sanitizer=require(a65_0x7968('0x0')),Types=require(a65_0x7968('0x1')),ItemTypes=require(a65_0x7968('0x2'));module[a65_0x7968('0x3')]=Utils;Utils[a65_0x7968('0x4')]=function(_0x380d45){return sanitizer[a65_0x7968('0x5')](sanitizer[a65_0x7968('0x4')](_0x380d45));};Utils['random']=function(_0x1aac19){return Math[a65_0x7968('0x6')](Math[a65_0x7968('0x7')]()*_0x1aac19);};Utils['randomRange']=function(_0x9b0ba5,_0x5e98d1){return _0x9b0ba5+Math[a65_0x7968('0x7')]()*(_0x5e98d1-_0x9b0ba5);};Utils['randomInt']=function(_0x2d0c03,_0x3879a3){return _0x2d0c03+Math[a65_0x7968('0x6')](Math[a65_0x7968('0x7')]()*(_0x3879a3-_0x2d0c03+0x1));};Utils[a65_0x7968('0x8')]=function(_0x43f2db,_0x1ea620){return _0x43f2db+Math[a65_0x7968('0x6')](Math[a65_0x7968('0x7')]()*(_0x1ea620-_0x43f2db+0x1));};Utils['percentToBool']=function(_0x1debfb){if(Math[a65_0x7968('0x7')]()<_0x1debfb*0.01){return!![];}else{return![];}};Utils[a65_0x7968('0x9')]=function(_0x346f9a){if(Math[a65_0x7968('0x7')]()<_0x346f9a){return!![];}else{return![];}};Utils[a65_0x7968('0xa')]=function(_0x2f23f6,_0x3d7fde,_0x247bad){if(_0x247bad<_0x2f23f6){return _0x2f23f6;}else if(_0x247bad>_0x3d7fde){return _0x3d7fde;}else{return _0x247bad;}};Utils[a65_0x7968('0xb')]=function(){var _0x31460f,_0x9fd60c=Utils[a65_0x7968('0x7')](0x4);if(_0x9fd60c===0x0)_0x31460f=Types[a65_0x7968('0xc')][a65_0x7968('0xd')];if(_0x9fd60c===0x1)_0x31460f=Types['Orientations'][a65_0x7968('0xe')];if(_0x9fd60c===0x2)_0x31460f=Types['Orientations']['UP'];if(_0x9fd60c===0x3)_0x31460f=Types[a65_0x7968('0xc')]['DOWN'];return _0x31460f;};Utils[a65_0x7968('0xf')]=function(_0x37ca93){if(!_0x37ca93[a65_0x7968('0x10')]||_0x37ca93[a65_0x7968('0x10')][a65_0x7968('0x11')]==0x0)return Utils[a65_0x7968('0xb')]();var _0x4aa815=_0x37ca93[a65_0x7968('0x10')][_0x37ca93[a65_0x7968('0x10')]['length']-0x1][0x0];var _0xf47fe2=_0x37ca93[a65_0x7968('0x10')][_0x37ca93[a65_0x7968('0x10')][a65_0x7968('0x11')]-0x1][0x1];if(_0x37ca93[a65_0x7968('0x10')][a65_0x7968('0x11')]==0x1){var _0x2b24f3=_0x37ca93['x'];var _0x2591ae=_0x37ca93['y'];}else{var _0x2b24f3=_0x37ca93[a65_0x7968('0x10')][_0x37ca93[a65_0x7968('0x10')][a65_0x7968('0x11')]-0x2][0x0];var _0x2591ae=_0x37ca93[a65_0x7968('0x10')][_0x37ca93[a65_0x7968('0x10')][a65_0x7968('0x11')]-0x2][0x1];}if(_0x4aa815>_0x2b24f3)return Types[a65_0x7968('0xc')]['RIGHT'];else if(_0x4aa815<_0x2b24f3)return Types[a65_0x7968('0xc')][a65_0x7968('0xd')];else if(_0xf47fe2>_0x2591ae)return Types['Orientations'][a65_0x7968('0x12')];else if(_0xf47fe2<_0x2591ae)return Types[a65_0x7968('0xc')]['UP'];};Utils[a65_0x7968('0x13')]=function(_0x44b4eb){var _0x1c8063=_0x44b4eb['x'],_0x1ae104=_0x44b4eb['y'],_0x8c27a2=Utils[a65_0x7968('0x7')](0x4);if(_0x8c27a2===0x0)--_0x1c8063;if(_0x8c27a2===0x1)++_0x1c8063;if(_0x8c27a2===0x2)--_0x1ae104;if(_0x8c27a2===0x3)++_0x1ae104;return{'x':_0x1c8063,'y':_0x1ae104};};Utils[a65_0x7968('0x14')]=function(_0x4c25c3,_0x35a13e){if(_0x35a13e){for(var _0x53329f,_0x3341ab=Object[a65_0x7968('0x15')](_0x35a13e),_0x259735=_0x3341ab['length'];_0x259735--;){_0x53329f=_0x3341ab[_0x259735];if(_0x35a13e['hasOwnProperty'](_0x53329f)){_0x4c25c3[_0x53329f]=_0x35a13e[_0x53329f];}}}return _0x4c25c3;};Utils[a65_0x7968('0x16')]=function(_0x56924f,_0x5c84d7,_0x2c9686,_0x2e7bdd){var _0x31dffc=Math[a65_0x7968('0x17')](_0x56924f-_0x2c9686);var _0x188158=Math[a65_0x7968('0x17')](_0x5c84d7-_0x2e7bdd);return _0x31dffc>_0x188158?_0x31dffc:_0x188158;};Utils[a65_0x7968('0x18')]=function(_0x3a0991,_0x42798d){return Math[a65_0x7968('0x17')](_0x3a0991['x']-_0x42798d['x'])+Math['abs'](_0x3a0991['y']-_0x42798d['y']);},Utils[a65_0x7968('0x19')]=function(_0x5453be){if(isNaN(_0x5453be*0x1)){return 0x0;}else{return _0x5453be*0x1;}};Utils[a65_0x7968('0x1a')]=function(_0x2bb628){return _0x2bb628==='true'?!![]:![];};Utils[a65_0x7968('0x1b')]=function(_0x2f12dc){return _0x2f12dc['toString']()[a65_0x7968('0x1c')](/^"(.+(?="$))"$/,'$1');};Utils[a65_0x7968('0x1d')]=function(_0x391465,_0x27ef63){Math[a65_0x7968('0x1d')][a65_0x7968('0x1e')](Math,_0x391465[a65_0x7968('0x1f')](function(_0x1209cd){return _0x1209cd[_0x27ef63];}));};Utils['min']=function(_0x3a2966,_0x229e3e){Math[a65_0x7968('0x20')][a65_0x7968('0x1e')](Math,_0x3a2966[a65_0x7968('0x1f')](function(_0x159974){return _0x159974[_0x229e3e];}));};Utils[a65_0x7968('0x21')]=function(_0x501439){var _0x68bf8c=[],_0x14b164='';for(_0x14b164 in _0x501439)_0x68bf8c[_0x68bf8c[a65_0x7968('0x11')]]=_0x501439[_0x14b164];return _0x68bf8c;};Utils[a65_0x7968('0x22')]=function(_0x3ff947,_0x3a022d){if(_0x3ff947===_0x3a022d)return!![];if(_0x3ff947==null||_0x3a022d==null)return![];if(_0x3ff947[a65_0x7968('0x11')]!=_0x3a022d['length'])return![];for(var _0x37231a=0x0;_0x37231a<_0x3ff947[a65_0x7968('0x11')];++_0x37231a){if(_0x3ff947[_0x37231a]!==_0x3a022d[_0x37231a])return![];}return!![];};Utils['setEquipmentBonus']=function(_0x3fd8e8){if(ItemTypes[a65_0x7968('0x23')](_0x3fd8e8)||ItemTypes[a65_0x7968('0x24')](_0x3fd8e8)||ItemTypes['isArmor'](_0x3fd8e8)){var _0x5601f7=Utils[a65_0x7968('0x7')](0x400);var _0x4f6746=0x0;for(var _0x1f7912=0x1;_0x1f7912<=0x400;_0x1f7912*=0x2){if(_0x5601f7<_0x1f7912){return Math[a65_0x7968('0x1d')](0xa-_0x4f6746,0x1);}++_0x4f6746;}}return 0x1;};