var a1_0x3909=['elipse','excludeId','this.elipse=',',this.excludeId=','random','floor','sqrt','round','cos','sin','isValidPosition','_getRandomPositionInsideArea:','pow','contains','indexOf','pluck','splice','isEmpty','hasCompletelyRespawned','emptyCallback','kind','push','area','addMob','nbEntities','any','./lib/class','./utils','./message','exports','extend','width','height','map','entities'];(function(_0x5acb84,_0x250a8f){var _0x22f3ba=function(_0x537136){while(--_0x537136){_0x5acb84['push'](_0x5acb84['shift']());}};_0x22f3ba(++_0x250a8f);}(a1_0x3909,0xa6));var a1_0x4273=function(_0x57e543,_0x4da3e1){_0x57e543=_0x57e543-0x0;var _0xbce0da=a1_0x3909[_0x57e543];return _0xbce0da;};var cls=require(a1_0x4273('0x0'));var _=require('underscore');var Utils=require(a1_0x4273('0x1'));var Messages=require(a1_0x4273('0x2'));var MobData=require('./mobdata');module[a1_0x4273('0x3')]=Area=cls['Class'][a1_0x4273('0x4')]({'init':function(_0x21150a,_0x4a18d0,_0xb302b0,_0x23387a,_0x4154ce,_0x2111e7,_0x226445,_0x28a9bb){this['id']=_0x21150a;this['x']=_0x4a18d0;this['y']=_0xb302b0;this[a1_0x4273('0x5')]=_0x23387a;this[a1_0x4273('0x6')]=_0x4154ce;this[a1_0x4273('0x7')]=_0x2111e7;this[a1_0x4273('0x8')]=[];this['hasCompletelyRespawned']=!![];this[a1_0x4273('0x9')]=_0x226445||![];this[a1_0x4273('0xa')]=_0x28a9bb;log['info'](a1_0x4273('0xb')+this[a1_0x4273('0x9')]+a1_0x4273('0xc')+this[a1_0x4273('0xa')]);},'_getRandomPositionInsideArea':function(_0x595131){var _0x54f0bc={};var _0x49679f=![];var _0x4aade4=0x0;while(_0x4aade4<=_0x595131){if(!this[a1_0x4273('0x9')]){_0x54f0bc['x']=this['x']+Utils[a1_0x4273('0xd')](this[a1_0x4273('0x5')]+0x1);_0x54f0bc['y']=this['y']+Utils[a1_0x4273('0xd')](this['height']+0x1);}else{var _0x29d89a=Math[a1_0x4273('0xd')]()*0x2*Math['PI'];var _0x1274d1=Math[a1_0x4273('0xe')](this['width']/0x2*Math[a1_0x4273('0xf')](Math[a1_0x4273('0xd')]()));_0x54f0bc['x']=Math[a1_0x4273('0x10')](this['x']+this[a1_0x4273('0x5')]/0x2+_0x1274d1*Math[a1_0x4273('0x11')](_0x29d89a));_0x54f0bc['y']=Math[a1_0x4273('0x10')](this['y']+this[a1_0x4273('0x5')]/0x2+_0x1274d1*Math[a1_0x4273('0x12')](_0x29d89a));}if(!this['contains'](_0x54f0bc['x'],_0x54f0bc['y'],0x0))continue;_0x49679f=this[a1_0x4273('0x7')][a1_0x4273('0x13')](_0x54f0bc['x'],_0x54f0bc['y']);if(_0x49679f)break;_0x4aade4++;}if(_0x4aade4>_0x595131){log['error'](a1_0x4273('0x14')+_0x54f0bc['x']+','+_0x54f0bc['y']);}return _0x54f0bc;},'contains':function(_0x4fdc86,_0x153da6,_0x7f32a0){if(!this['elipse']){return _0x4fdc86>=this['x']&&_0x153da6>=this['y']&&_0x4fdc86<this['x']+this[a1_0x4273('0x5')]&&_0x153da6<this['y']+this[a1_0x4273('0x6')];}else{var _0x58dbe4=this['x']+this[a1_0x4273('0x5')]/0x2;var _0x24322c=this['y']+this[a1_0x4273('0x5')]/0x2;var _0x2ffa4c=Math[a1_0x4273('0xf')](Math[a1_0x4273('0x15')](_0x4fdc86-_0x58dbe4,0x2)+Math[a1_0x4273('0x15')](_0x153da6-_0x24322c,0x2));var _0x359b9e=_0x2ffa4c<this[a1_0x4273('0x5')]/0x2;if(_0x7f32a0==0x1||this[a1_0x4273('0xa')]==-0x1){return _0x359b9e;}else if(_0x7f32a0==0x0){var _0x53c749=this[a1_0x4273('0x7')]['mobLiveAreas'][this['excludeId']];return _0x359b9e&&!_0x53c749[a1_0x4273('0x16')](_0x4fdc86,_0x153da6,0x1);}return![];}},'removeFromArea':function(_0x232c08){var _0x1fa0a9=_[a1_0x4273('0x17')](_[a1_0x4273('0x18')](this[a1_0x4273('0x8')],'id'),_0x232c08['id']);this['entities'][a1_0x4273('0x19')](_0x1fa0a9,0x1);if(this[a1_0x4273('0x1a')]()&&this[a1_0x4273('0x1b')]&&this[a1_0x4273('0x1c')]){this[a1_0x4273('0x1b')]=![];this[a1_0x4273('0x1c')]();}},'addToArea':function(_0x2bd3ae){var _0x3814d3=require('./mob');if(_0x2bd3ae&&_0x2bd3ae[a1_0x4273('0x1d')]!==null){this[a1_0x4273('0x8')][a1_0x4273('0x1e')](_0x2bd3ae);_0x2bd3ae[a1_0x4273('0x1f')]=this;if(_0x2bd3ae instanceof _0x3814d3){this['map'][a1_0x4273('0x8')][a1_0x4273('0x20')](_0x2bd3ae);}}if(this['isFull']()){this[a1_0x4273('0x1b')]=!![];}},'setNumberOfEntities':function(_0x4b8115){this[a1_0x4273('0x21')]=_0x4b8115;},'isEmpty':function(){return!_[a1_0x4273('0x22')](this['entities'],function(_0x6eab31){return!_0x6eab31['isDead'];});},'isFull':function(){return!this[a1_0x4273('0x1a')]()&&this['nbEntities']===_['size'](this['entities']);},'onEmpty':function(_0x2f7643){this[a1_0x4273('0x1c')]=_0x2f7643;}});module[a1_0x4273('0x3')]=Area;